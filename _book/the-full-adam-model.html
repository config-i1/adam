<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>14.3 The full ADAM model | Time Series Analysis and Forecasting with ADAM</title>
  <meta name="description" content="This textbook explains how to do time series analysis and forecasting using Augmented Dynamic Adaptive Model, implemented in smooth package for R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="14.3 The full ADAM model | Time Series Analysis and Forecasting with ADAM" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This textbook explains how to do time series analysis and forecasting using Augmented Dynamic Adaptive Model, implemented in smooth package for R." />
  <meta name="github-repo" content="config-i1/adam" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="14.3 The full ADAM model | Time Series Analysis and Forecasting with ADAM" />
  
  <meta name="twitter:description" content="This textbook explains how to do time series analysis and forecasting using Augmented Dynamic Adaptive Model, implemented in smooth package for R." />
  

<meta name="author" content="Ivan Svetunkov" />


<meta name="date" content="2021-04-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ADAMDemandSizes.html"/>
<link rel="next" href="ADAMSelection.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script async defer src="https://hypothes.is/embed.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XH37Z8VYP8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XH37Z8VYP8');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Time Series Analysis and Forecasting with ADAM</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="what-is-adam.html"><a href="what-is-adam.html"><i class="fa fa-check"></i>What is ADAM?</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>2</b> A bit of statistics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="estimatesProperties.html"><a href="estimatesProperties.html"><i class="fa fa-check"></i><b>2.1</b> Properties of estimators</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="estimatesProperties.html"><a href="estimatesProperties.html#estimatesPropertiesBias"><i class="fa fa-check"></i><b>2.1.1</b> Bias</a></li>
<li class="chapter" data-level="2.1.2" data-path="estimatesProperties.html"><a href="estimatesProperties.html#estimatesPropertiesEfficiency"><i class="fa fa-check"></i><b>2.1.2</b> Efficiency</a></li>
<li class="chapter" data-level="2.1.3" data-path="estimatesProperties.html"><a href="estimatesProperties.html#estimatesPropertiesConsistency"><i class="fa fa-check"></i><b>2.1.3</b> Consistency</a></li>
<li class="chapter" data-level="2.1.4" data-path="estimatesProperties.html"><a href="estimatesProperties.html#asymptoticNormality"><i class="fa fa-check"></i><b>2.1.4</b> Asymptotic normality</a></li>
<li class="chapter" data-level="2.1.5" data-path="estimatesProperties.html"><a href="estimatesProperties.html#LLNandCLT"><i class="fa fa-check"></i><b>2.1.5</b> Law of Large Numbers and Central Limit Theorem</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="confidenceIntervals.html"><a href="confidenceIntervals.html"><i class="fa fa-check"></i><b>2.2</b> Confidence and prediction intervals</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="confidenceIntervals.html"><a href="confidenceIntervals.html#confidence-interval"><i class="fa fa-check"></i><b>2.2.1</b> Confidence interval</a></li>
<li class="chapter" data-level="2.2.2" data-path="confidenceIntervals.html"><a href="confidenceIntervals.html#prediction-interval"><i class="fa fa-check"></i><b>2.2.2</b> Prediction interval</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="hypothesisTesting.html"><a href="hypothesisTesting.html"><i class="fa fa-check"></i><b>2.3</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="hypothesisTesting.html"><a href="hypothesisTesting.html#hypothesisTestingMistakes"><i class="fa fa-check"></i><b>2.3.1</b> Common mistakes related to hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="assumptions.html"><a href="assumptions.html"><i class="fa fa-check"></i><b>2.4</b> Typical assumptions of statistical models</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="assumptions.html"><a href="assumptions.html#model-is-correctly-specified"><i class="fa fa-check"></i><b>2.4.1</b> Model is correctly specified</a></li>
<li class="chapter" data-level="2.4.2" data-path="assumptions.html"><a href="assumptions.html#the-expectation-of-residuals-is-zero-no-matter-what"><i class="fa fa-check"></i><b>2.4.2</b> The expectation of residuals is zero, no matter what</a></li>
<li class="chapter" data-level="2.4.3" data-path="assumptions.html"><a href="assumptions.html#residuals-are-i.i.d."><i class="fa fa-check"></i><b>2.4.3</b> Residuals are i.i.d.</a></li>
<li class="chapter" data-level="2.4.4" data-path="assumptions.html"><a href="assumptions.html#the-explanatory-variables-are-not-correlated-with-anything-but-the-response-variable"><i class="fa fa-check"></i><b>2.4.4</b> The explanatory variables are not correlated with anything but the response variable</a></li>
<li class="chapter" data-level="2.4.5" data-path="assumptions.html"><a href="assumptions.html#the-variable-follows-the-specified-distribution"><i class="fa fa-check"></i><b>2.4.5</b> The variable follows the specified distribution</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>2.5</b> Theory of distributions</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="distributions.html"><a href="distributions.html#distributionsNormal"><i class="fa fa-check"></i><b>2.5.1</b> Normal distribution</a></li>
<li class="chapter" data-level="2.5.2" data-path="distributions.html"><a href="distributions.html#distributionsLaplace"><i class="fa fa-check"></i><b>2.5.2</b> Laplace distribution</a></li>
<li class="chapter" data-level="2.5.3" data-path="distributions.html"><a href="distributions.html#s-distribution"><i class="fa fa-check"></i><b>2.5.3</b> S distribution</a></li>
<li class="chapter" data-level="2.5.4" data-path="distributions.html"><a href="distributions.html#distributionsGeneralisedNormal"><i class="fa fa-check"></i><b>2.5.4</b> Generalised Normal distribution</a></li>
<li class="chapter" data-level="2.5.5" data-path="distributions.html"><a href="distributions.html#distributionsALaplace"><i class="fa fa-check"></i><b>2.5.5</b> Asymmetric Laplace distribution</a></li>
<li class="chapter" data-level="2.5.6" data-path="distributions.html"><a href="distributions.html#log-normal-log-laplace-log-s-and-log-gn-distributions"><i class="fa fa-check"></i><b>2.5.6</b> Log Normal, Log Laplace, Log S and Log GN distributions</a></li>
<li class="chapter" data-level="2.5.7" data-path="distributions.html"><a href="distributions.html#IGDistribution"><i class="fa fa-check"></i><b>2.5.7</b> Inverse Gaussian distribution</a></li>
<li class="chapter" data-level="2.5.8" data-path="distributions.html"><a href="distributions.html#GammaDistribution"><i class="fa fa-check"></i><b>2.5.8</b> Gamma distribution</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="likelihoodApproach.html"><a href="likelihoodApproach.html"><i class="fa fa-check"></i><b>2.6</b> Likelihood Approach</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="likelihoodApproach.html"><a href="likelihoodApproach.html#an-example-in-r"><i class="fa fa-check"></i><b>2.6.1</b> An example in R</a></li>
<li class="chapter" data-level="2.6.2" data-path="likelihoodApproach.html"><a href="likelihoodApproach.html#likelihoodApproachMaths"><i class="fa fa-check"></i><b>2.6.2</b> Mathematical explanation</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="modelSelection.html"><a href="modelSelection.html"><i class="fa fa-check"></i><b>2.7</b> Model selection mechanism</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="modelSelection.html"><a href="modelSelection.html#informationCriteria"><i class="fa fa-check"></i><b>2.7.1</b> Information criteria idea</a></li>
<li class="chapter" data-level="2.7.2" data-path="modelSelection.html"><a href="modelSelection.html#informationCriteriaMistakes"><i class="fa fa-check"></i><b>2.7.2</b> Common confusions related to information criteria</a></li>
<li class="chapter" data-level="2.7.3" data-path="modelSelection.html"><a href="modelSelection.html#statisticsNumberOfParameters"><i class="fa fa-check"></i><b>2.7.3</b> Calculating number of parameters in models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="forecastingProcess.html"><a href="forecastingProcess.html"><i class="fa fa-check"></i><b>3</b> Forecasting process and forecasts evaluation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="errorMeasures.html"><a href="errorMeasures.html"><i class="fa fa-check"></i><b>3.1</b> Measuring accuracy of point forecasts</a></li>
<li class="chapter" data-level="3.2" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>3.2</b> Measuring uncertainty</a></li>
<li class="chapter" data-level="3.3" data-path="rollingOrigin.html"><a href="rollingOrigin.html"><i class="fa fa-check"></i><b>3.3</b> Rolling origin</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="rollingOrigin.html"><a href="rollingOrigin.html#principles-of-rolling-origin"><i class="fa fa-check"></i><b>3.3.1</b> Principles of Rolling origin</a></li>
<li class="chapter" data-level="3.3.2" data-path="rollingOrigin.html"><a href="rollingOrigin.html#rolling-origin-in-r"><i class="fa fa-check"></i><b>3.3.2</b> Rolling origin in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tsDecomposition.html"><a href="tsDecomposition.html"><i class="fa fa-check"></i><b>4</b> From time series components to ETS</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tsComponents.html"><a href="tsComponents.html"><i class="fa fa-check"></i><b>4.1</b> Time series components</a></li>
<li class="chapter" data-level="4.2" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html"><i class="fa fa-check"></i><b>4.2</b> Classical Seasonal Decomposition</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#how-to-do"><i class="fa fa-check"></i><b>4.2.1</b> How to do?</a></li>
<li class="chapter" data-level="4.2.2" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#a-couple-of-examples"><i class="fa fa-check"></i><b>4.2.2</b> A couple of examples</a></li>
<li class="chapter" data-level="4.2.3" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#other-techniques"><i class="fa fa-check"></i><b>4.2.3</b> Other techniques</a></li>
<li class="chapter" data-level="4.2.4" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#why-bother"><i class="fa fa-check"></i><b>4.2.4</b> “Why bother?”</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ETSTaxonomy.html"><a href="ETSTaxonomy.html"><i class="fa fa-check"></i><b>4.3</b> ETS taxonomy</a></li>
<li class="chapter" data-level="4.4" data-path="ETSTaxonomyMaths.html"><a href="ETSTaxonomyMaths.html"><i class="fa fa-check"></i><b>4.4</b> Mathematical models in the ETS taxonomy</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conventional-exponential-smoothing.html"><a href="conventional-exponential-smoothing.html"><i class="fa fa-check"></i><b>5</b> Conventional Exponential Smoothing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="SES.html"><a href="SES.html"><i class="fa fa-check"></i><b>5.1</b> Simple Exponential Smoothing</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="SES.html"><a href="SES.html#examples-of-application"><i class="fa fa-check"></i><b>5.1.1</b> Examples of application</a></li>
<li class="chapter" data-level="5.1.2" data-path="SES.html"><a href="SES.html#whyExponential"><i class="fa fa-check"></i><b>5.1.2</b> Why “exponential?”</a></li>
<li class="chapter" data-level="5.1.3" data-path="SES.html"><a href="SES.html#error-correction-form-of-ses"><i class="fa fa-check"></i><b>5.1.3</b> Error correction form of SES</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="ses-and-ets.html"><a href="ses-and-ets.html"><i class="fa fa-check"></i><b>5.2</b> SES and ETS</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="ses-and-ets.html"><a href="ses-and-ets.html#etsann"><i class="fa fa-check"></i><b>5.2.1</b> ETS(A,N,N)</a></li>
<li class="chapter" data-level="5.2.2" data-path="ses-and-ets.html"><a href="ses-and-ets.html#etsmnn"><i class="fa fa-check"></i><b>5.2.2</b> ETS(M,N,N)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="ETSExamples.html"><a href="ETSExamples.html"><i class="fa fa-check"></i><b>5.3</b> Several examples of exponential smoothing methods and ETS</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="ETSExamples.html"><a href="ETSExamples.html#ETSAAN"><i class="fa fa-check"></i><b>5.3.1</b> ETS(A,A,N)</a></li>
<li class="chapter" data-level="5.3.2" data-path="ETSExamples.html"><a href="ETSExamples.html#ETSAAdN"><i class="fa fa-check"></i><b>5.3.2</b> ETS(A,Ad,N)</a></li>
<li class="chapter" data-level="5.3.3" data-path="ETSExamples.html"><a href="ETSExamples.html#etsaam"><i class="fa fa-check"></i><b>5.3.3</b> ETS(A,A,M)</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="ets-assumptions-estimation-and-selection.html"><a href="ets-assumptions-estimation-and-selection.html"><i class="fa fa-check"></i><b>5.4</b> ETS assumptions, estimation and selection</a></li>
<li class="chapter" data-level="5.5" data-path="state-space-form-of-ets.html"><a href="state-space-form-of-ets.html"><i class="fa fa-check"></i><b>5.5</b> State space form of ETS</a></li>
<li class="chapter" data-level="5.6" data-path="ETSParametersBounds.html"><a href="ETSParametersBounds.html"><i class="fa fa-check"></i><b>5.6</b> Parameters bounds</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ADAMETSIntroduction.html"><a href="ADAMETSIntroduction.html"><i class="fa fa-check"></i><b>6</b> Pure additive ADAM ETS</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ADAMETSPureAdditive.html"><a href="ADAMETSPureAdditive.html"><i class="fa fa-check"></i><b>6.1</b> Model formulation</a></li>
<li class="chapter" data-level="6.2" data-path="adamETSPureAdditiveRecursive.html"><a href="adamETSPureAdditiveRecursive.html"><i class="fa fa-check"></i><b>6.2</b> Recursive relation</a></li>
<li class="chapter" data-level="6.3" data-path="pureAdditiveExpectationAndVariance.html"><a href="pureAdditiveExpectationAndVariance.html"><i class="fa fa-check"></i><b>6.3</b> Conditional expectation and variance</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="pureAdditiveExpectationAndVariance.html"><a href="pureAdditiveExpectationAndVariance.html#example-with-etsann"><i class="fa fa-check"></i><b>6.3.1</b> Example with ETS(A,N,N)</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="stabilityConditionAdditiveError.html"><a href="stabilityConditionAdditiveError.html"><i class="fa fa-check"></i><b>6.4</b> Stability and forecastability conditions</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="stabilityConditionAdditiveError.html"><a href="stabilityConditionAdditiveError.html#example-with-etsann-1"><i class="fa fa-check"></i><b>6.4.1</b> Example with ETS(A,N,N)</a></li>
<li class="chapter" data-level="6.4.2" data-path="stabilityConditionAdditiveError.html"><a href="stabilityConditionAdditiveError.html#comming-back-to-the-general-case"><i class="fa fa-check"></i><b>6.4.2</b> Comming back to the general case</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="ADAMETSAdditiveDistributions.html"><a href="ADAMETSAdditiveDistributions.html"><i class="fa fa-check"></i><b>6.5</b> Distributional assumptions in pure additive ETS</a></li>
<li class="chapter" data-level="6.6" data-path="ADAMETSPureAdditiveExamples.html"><a href="ADAMETSPureAdditiveExamples.html"><i class="fa fa-check"></i><b>6.6</b> Examples of application</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="ADAMETSPureAdditiveExamples.html"><a href="ADAMETSPureAdditiveExamples.html#non-seasonal-data"><i class="fa fa-check"></i><b>6.6.1</b> Non-seasonal data</a></li>
<li class="chapter" data-level="6.6.2" data-path="ADAMETSPureAdditiveExamples.html"><a href="ADAMETSPureAdditiveExamples.html#ADAMETSPureAdditiveExamplesETSAAA"><i class="fa fa-check"></i><b>6.6.2</b> Seasonal data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ADAMETSPureMultiplicative.html"><a href="ADAMETSPureMultiplicative.html"><i class="fa fa-check"></i><b>7</b> Pure multiplicative ADAM ETS</a>
<ul>
<li class="chapter" data-level="7.1" data-path="adamETSPuremultiplicativeRecursive.html"><a href="adamETSPuremultiplicativeRecursive.html"><i class="fa fa-check"></i><b>7.1</b> Recursive relation</a></li>
<li class="chapter" data-level="7.2" data-path="pureMultiplicativeExpectationAndVariance.html"><a href="pureMultiplicativeExpectationAndVariance.html"><i class="fa fa-check"></i><b>7.2</b> The problem with moments in pure multiplicative ETS</a></li>
<li class="chapter" data-level="7.3" data-path="stabilityConditionMultiplicativeError.html"><a href="stabilityConditionMultiplicativeError.html"><i class="fa fa-check"></i><b>7.3</b> Smoothing parameters bounds</a></li>
<li class="chapter" data-level="7.4" data-path="ADAMETSMultiplicativeDistributions.html"><a href="ADAMETSMultiplicativeDistributions.html"><i class="fa fa-check"></i><b>7.4</b> Distributional assumptions in pure multiplicative ETS</a></li>
<li class="chapter" data-level="7.5" data-path="ADAMETSMultiplicativeExamples.html"><a href="ADAMETSMultiplicativeExamples.html"><i class="fa fa-check"></i><b>7.5</b> Examples of application</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ADAMETSMultiplicativeExamples.html"><a href="ADAMETSMultiplicativeExamples.html#non-seasonal-data-1"><i class="fa fa-check"></i><b>7.5.1</b> Non-seasonal data</a></li>
<li class="chapter" data-level="7.5.2" data-path="ADAMETSMultiplicativeExamples.html"><a href="ADAMETSMultiplicativeExamples.html#seasonal-data"><i class="fa fa-check"></i><b>7.5.2</b> Seasonal data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ADAMETSMixedModels.html"><a href="ADAMETSMixedModels.html"><i class="fa fa-check"></i><b>8</b> Further ADAM ETS topics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ADAMETSMixedModelsGroup3.html"><a href="ADAMETSMixedModelsGroup3.html"><i class="fa fa-check"></i><b>8.1</b> Mixed models with non-multiplicative trend</a></li>
<li class="chapter" data-level="8.2" data-path="ADAMETSMixedModelsGroup4.html"><a href="ADAMETSMixedModelsGroup4.html"><i class="fa fa-check"></i><b>8.2</b> Mixed models with multiplicative trend</a></li>
<li class="chapter" data-level="8.3" data-path="ADAMETSSeasonalNormalisation.html"><a href="ADAMETSSeasonalNormalisation.html"><i class="fa fa-check"></i><b>8.3</b> Normalisation of seasonal indices in ETS models</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ARIMA.html"><a href="ARIMA.html"><i class="fa fa-check"></i><b>9</b> Conventional ARIMA</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html"><i class="fa fa-check"></i><b>9.1</b> Introduction to ARIMA</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#AR"><i class="fa fa-check"></i><b>9.1.1</b> AR(p)</a></li>
<li class="chapter" data-level="9.1.2" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#MA"><i class="fa fa-check"></i><b>9.1.2</b> MA(q)</a></li>
<li class="chapter" data-level="9.1.3" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#ARMA"><i class="fa fa-check"></i><b>9.1.3</b> ARMA(p,q)</a></li>
<li class="chapter" data-level="9.1.4" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#ARMAConstant"><i class="fa fa-check"></i><b>9.1.4</b> ARMA with constant</a></li>
<li class="chapter" data-level="9.1.5" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#Differences"><i class="fa fa-check"></i><b>9.1.5</b> I(d)</a></li>
<li class="chapter" data-level="9.1.6" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#arimapdq"><i class="fa fa-check"></i><b>9.1.6</b> ARIMA(p,d,q)</a></li>
<li class="chapter" data-level="9.1.7" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#ARIMABounds"><i class="fa fa-check"></i><b>9.1.7</b> Parameters bounds</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="seasonal-arima.html"><a href="seasonal-arima.html"><i class="fa fa-check"></i><b>9.2</b> Seasonal ARIMA</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="seasonal-arima.html"><a href="seasonal-arima.html#single-seasonal-arima"><i class="fa fa-check"></i><b>9.2.1</b> Single seasonal ARIMA</a></li>
<li class="chapter" data-level="9.2.2" data-path="seasonal-arima.html"><a href="seasonal-arima.html#sarima-with-constant"><i class="fa fa-check"></i><b>9.2.2</b> SARIMA with constant</a></li>
<li class="chapter" data-level="9.2.3" data-path="seasonal-arima.html"><a href="seasonal-arima.html#MSARIMA"><i class="fa fa-check"></i><b>9.2.3</b> Multiple seasonal ARIMA</a></li>
<li class="chapter" data-level="9.2.4" data-path="seasonal-arima.html"><a href="seasonal-arima.html#MSARIMABounds"><i class="fa fa-check"></i><b>9.2.4</b> Parameters bounds for MSARIMA</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="BJApproach.html"><a href="BJApproach.html"><i class="fa fa-check"></i><b>9.3</b> Box-Jenkins approach</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="BJApproach.html"><a href="BJApproach.html#identifying-stationarity"><i class="fa fa-check"></i><b>9.3.1</b> Identifying stationarity</a></li>
<li class="chapter" data-level="9.3.2" data-path="BJApproach.html"><a href="BJApproach.html#ACF"><i class="fa fa-check"></i><b>9.3.2</b> Autocorrelation function (ACF)</a></li>
<li class="chapter" data-level="9.3.3" data-path="BJApproach.html"><a href="BJApproach.html#PACF"><i class="fa fa-check"></i><b>9.3.3</b> Partial autocorrelation function (PACF)</a></li>
<li class="chapter" data-level="9.3.4" data-path="BJApproach.html"><a href="BJApproach.html#BJApproachSummary"><i class="fa fa-check"></i><b>9.3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html"><i class="fa fa-check"></i><b>9.4</b> ARIMA and ETS</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETS011"><i class="fa fa-check"></i><b>9.4.1</b> ARIMA(0,1,1) and ETS(A,N,N)</a></li>
<li class="chapter" data-level="9.4.2" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETS022"><i class="fa fa-check"></i><b>9.4.2</b> ARIMA(0,2,2) and ETS(A,A,N)</a></li>
<li class="chapter" data-level="9.4.3" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETS112"><i class="fa fa-check"></i><b>9.4.3</b> ARIMA(1,1,2) and ETS(A,Ad,N)</a></li>
<li class="chapter" data-level="9.4.4" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#arima-and-other-ets-models"><i class="fa fa-check"></i><b>9.4.4</b> ARIMA and other ETS models</a></li>
<li class="chapter" data-level="9.4.5" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ets-arima"><i class="fa fa-check"></i><b>9.4.5</b> ETS + ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="ARIMAExampleInR.html"><a href="ARIMAExampleInR.html"><i class="fa fa-check"></i><b>9.5</b> Examples of application</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="ARIMAExampleInR.html"><a href="ARIMAExampleInR.html#non-seasonal-data-2"><i class="fa fa-check"></i><b>9.5.1</b> Non-seasonal data</a></li>
<li class="chapter" data-level="9.5.2" data-path="ARIMAExampleInR.html"><a href="ARIMAExampleInR.html#ARIMAExampleInRSeasonal"><i class="fa fa-check"></i><b>9.5.2</b> Seasonal data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ADAMARIMA.html"><a href="ADAMARIMA.html"><i class="fa fa-check"></i><b>10</b> ADAM ARIMA</a>
<ul>
<li class="chapter" data-level="10.1" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html"><i class="fa fa-check"></i><b>10.1</b> State space ARIMA</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#StateSpaceARIMAAdditive"><i class="fa fa-check"></i><b>10.1.1</b> Additive ARIMA</a></li>
<li class="chapter" data-level="10.1.2" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#an-example"><i class="fa fa-check"></i><b>10.1.2</b> An example</a></li>
<li class="chapter" data-level="10.1.3" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#state-space-arima-with-constant"><i class="fa fa-check"></i><b>10.1.3</b> State space ARIMA with constant</a></li>
<li class="chapter" data-level="10.1.4" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#ADAMARIMAPureMultiplicative"><i class="fa fa-check"></i><b>10.1.4</b> Multiplicative ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="ADAMARIMARecursive.html"><a href="ADAMARIMARecursive.html"><i class="fa fa-check"></i><b>10.2</b> Recursive relation</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="ADAMARIMARecursive.html"><a href="ADAMARIMARecursive.html#moments-of-adam-arima"><i class="fa fa-check"></i><b>10.2.1</b> Moments of ADAM ARIMA</a></li>
<li class="chapter" data-level="10.2.2" data-path="ADAMARIMARecursive.html"><a href="ADAMARIMARecursive.html#parameters-bounds"><i class="fa fa-check"></i><b>10.2.2</b> Parameters bounds</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="ADAMARIMADistributions.html"><a href="ADAMARIMADistributions.html"><i class="fa fa-check"></i><b>10.3</b> Distributional assumptions of ADAM ARIMA</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="ADAMARIMADistributions.html"><a href="ADAMARIMADistributions.html#conditional-distributions"><i class="fa fa-check"></i><b>10.3.1</b> Conditional distributions</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="ets-arima-1.html"><a href="ets-arima-1.html"><i class="fa fa-check"></i><b>10.4</b> ETS + ARIMA</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="ets-arima-1.html"><a href="ets-arima-1.html#pure-additive-models"><i class="fa fa-check"></i><b>10.4.1</b> Pure additive models</a></li>
<li class="chapter" data-level="10.4.2" data-path="ets-arima-1.html"><a href="ets-arima-1.html#pure-multiplicative-models"><i class="fa fa-check"></i><b>10.4.2</b> Pure multiplicative models</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="ADAMARIMAExamples.html"><a href="ADAMARIMAExamples.html"><i class="fa fa-check"></i><b>10.5</b> Examples of application</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ADAMX.html"><a href="ADAMX.html"><i class="fa fa-check"></i><b>11</b> Explanatory variables in ADAM</a>
<ul>
<li class="chapter" data-level="11.1" data-path="adamx-model-formulation.html"><a href="adamx-model-formulation.html"><i class="fa fa-check"></i><b>11.1</b> ADAMX: Model formulation</a></li>
<li class="chapter" data-level="11.2" data-path="ADAMXConventionalConditionalMoments.html"><a href="ADAMXConventionalConditionalMoments.html"><i class="fa fa-check"></i><b>11.2</b> Conditional expectation and variance of ADAMX</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="ADAMXConventionalConditionalMoments.html"><a href="ADAMXConventionalConditionalMoments.html#the-adamx-with-known-explanatory-variables"><i class="fa fa-check"></i><b>11.2.1</b> The ADAMX with known explanatory variables</a></li>
<li class="chapter" data-level="11.2.2" data-path="ADAMXConventionalConditionalMoments.html"><a href="ADAMXConventionalConditionalMoments.html#adamx-with-random-explanatory-variables"><i class="fa fa-check"></i><b>11.2.2</b> ADAMX with random explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html"><i class="fa fa-check"></i><b>11.3</b> Dynamic X in ADAMX</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html#conditional-moments-of-dynamic-adamx"><i class="fa fa-check"></i><b>11.3.1</b> Conditional moments of dynamic ADAMX</a></li>
<li class="chapter" data-level="11.3.2" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html#known-explanatory-variables"><i class="fa fa-check"></i><b>11.3.2</b> Known explanatory variables</a></li>
<li class="chapter" data-level="11.3.3" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html#random-explanatory-variables"><i class="fa fa-check"></i><b>11.3.3</b> Random explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="stability-and-forecastability-conditions-of-adamx.html"><a href="stability-and-forecastability-conditions-of-adamx.html"><i class="fa fa-check"></i><b>11.4</b> Stability and forecastability conditions of ADAMX</a></li>
<li class="chapter" data-level="11.5" data-path="ETSXDynamicCategories.html"><a href="ETSXDynamicCategories.html"><i class="fa fa-check"></i><b>11.5</b> Dealing with categorical variables in ADAMX</a></li>
<li class="chapter" data-level="11.6" data-path="ETSXRExample.html"><a href="ETSXRExample.html"><i class="fa fa-check"></i><b>11.6</b> Examples of application</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ADAMETSEstimation.html"><a href="ADAMETSEstimation.html"><i class="fa fa-check"></i><b>12</b> Estimation of ADAM models</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ADAMETSEstimationLikelihood.html"><a href="ADAMETSEstimationLikelihood.html"><i class="fa fa-check"></i><b>12.1</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="ADAMETSEstimationLikelihood.html"><a href="ADAMETSEstimationLikelihood.html#an-example-in-r-1"><i class="fa fa-check"></i><b>12.1.1</b> An example in R</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html"><i class="fa fa-check"></i><b>12.2</b> Non MLE-based loss functions</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#MSEandMAEEstimators"><i class="fa fa-check"></i><b>12.2.1</b> MSE and MAE</a></li>
<li class="chapter" data-level="12.2.2" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#ham"><i class="fa fa-check"></i><b>12.2.2</b> HAM</a></li>
<li class="chapter" data-level="12.2.3" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#lasso-and-ridge"><i class="fa fa-check"></i><b>12.2.3</b> LASSO and RIDGE</a></li>
<li class="chapter" data-level="12.2.4" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#custom-losses"><i class="fa fa-check"></i><b>12.2.4</b> Custom losses</a></li>
<li class="chapter" data-level="12.2.5" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#examples-in-r"><i class="fa fa-check"></i><b>12.2.5</b> Examples in R</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="multistepLosses.html"><a href="multistepLosses.html"><i class="fa fa-check"></i><b>12.3</b> Multistep losses</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="multistepLosses.html"><a href="multistepLosses.html#mathrmmse_h---mse-for-h-steps-ahead"><i class="fa fa-check"></i><b>12.3.1</b> <span class="math inline">\(\mathrm{MSE}_h\)</span> - MSE for h steps ahead</a></li>
<li class="chapter" data-level="12.3.2" data-path="multistepLosses.html"><a href="multistepLosses.html#multistepLossesTMSE"><i class="fa fa-check"></i><b>12.3.2</b> TMSE - Trace MSE</a></li>
<li class="chapter" data-level="12.3.3" data-path="multistepLosses.html"><a href="multistepLosses.html#multistepLossesGTMSE"><i class="fa fa-check"></i><b>12.3.3</b> GTMSE - Geometric Trace MSE</a></li>
<li class="chapter" data-level="12.3.4" data-path="multistepLosses.html"><a href="multistepLosses.html#msce---mean-squared-cumulative-error"><i class="fa fa-check"></i><b>12.3.4</b> MSCE - Mean Squared Cumulative Error</a></li>
<li class="chapter" data-level="12.3.5" data-path="multistepLosses.html"><a href="multistepLosses.html#gpl---general-predictive-likelihood"><i class="fa fa-check"></i><b>12.3.5</b> GPL - General Predictive Likelihood</a></li>
<li class="chapter" data-level="12.3.6" data-path="multistepLosses.html"><a href="multistepLosses.html#other-multistep-estimators"><i class="fa fa-check"></i><b>12.3.6</b> Other multistep estimators</a></li>
<li class="chapter" data-level="12.3.7" data-path="multistepLosses.html"><a href="multistepLosses.html#an-example-in-r-2"><i class="fa fa-check"></i><b>12.3.7</b> An example in R</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html"><i class="fa fa-check"></i><b>12.4</b> Initialisation of ADAM</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#ADAMInitialisationOptAndBack"><i class="fa fa-check"></i><b>12.4.1</b> Optimisation vs backcasting</a></li>
<li class="chapter" data-level="12.4.2" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-parameters"><i class="fa fa-check"></i><b>12.4.2</b> Pre-initialisation of ADAM parameters</a></li>
<li class="chapter" data-level="12.4.3" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-states-ets"><i class="fa fa-check"></i><b>12.4.3</b> Pre-initialisation of ADAM states, ETS</a></li>
<li class="chapter" data-level="12.4.4" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-states-arima"><i class="fa fa-check"></i><b>12.4.4</b> Pre-initialisation of ADAM states, ARIMA</a></li>
<li class="chapter" data-level="12.4.5" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-states-regressors-and-constant"><i class="fa fa-check"></i><b>12.4.5</b> Pre-initialisation of ADAM states, Regressors and constant</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="multiple-frequencies-in-adam-ets.html"><a href="multiple-frequencies-in-adam-ets.html"><i class="fa fa-check"></i><b>13</b> Multiple frequencies in ADAM ETS</a>
<ul>
<li class="chapter" data-level="13.1" data-path="estimation-of-multiple-seasonal-model.html"><a href="estimation-of-multiple-seasonal-model.html"><i class="fa fa-check"></i><b>13.1</b> Estimation of multiple seasonal model</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="estimation-of-multiple-seasonal-model.html"><a href="estimation-of-multiple-seasonal-model.html#adam-ets-issues"><i class="fa fa-check"></i><b>13.1.1</b> ADAM ETS issues</a></li>
<li class="chapter" data-level="13.1.2" data-path="estimation-of-multiple-seasonal-model.html"><a href="estimation-of-multiple-seasonal-model.html#adam-arima-issues"><i class="fa fa-check"></i><b>13.1.2</b> ADAM ARIMA issues</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ETSXMultipleSeasonality.html"><a href="ETSXMultipleSeasonality.html"><i class="fa fa-check"></i><b>13.2</b> Using explanatory variables for multiple seasonalities</a></li>
<li class="chapter" data-level="13.3" data-path="dealing-with-daylight-saving-and-leap-years.html"><a href="dealing-with-daylight-saving-and-leap-years.html"><i class="fa fa-check"></i><b>13.3</b> Dealing with daylight saving and leap years</a></li>
<li class="chapter" data-level="13.4" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html"><i class="fa fa-check"></i><b>13.4</b> Examples of application</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html#adam-ets"><i class="fa fa-check"></i><b>13.4.1</b> ADAM ETS</a></li>
<li class="chapter" data-level="13.4.2" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html#adam-arima"><i class="fa fa-check"></i><b>13.4.2</b> ADAM ARIMA</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ADAMIntermittent.html"><a href="ADAMIntermittent.html"><i class="fa fa-check"></i><b>14</b> ADAM for Intermittent Demand</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html"><i class="fa fa-check"></i><b>14.1</b> Occurrence part of the model</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#fixed-probability-model-oets_f"><i class="fa fa-check"></i><b>14.1.1</b> Fixed probability model, oETS<span class="math inline">\(_F\)</span></a></li>
<li class="chapter" data-level="14.1.2" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSO"><i class="fa fa-check"></i><b>14.1.2</b> Odds ratio model, oETS<span class="math inline">\(_O\)</span></a></li>
<li class="chapter" data-level="14.1.3" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#inverse-odds-ratio-model-oets_i"><i class="fa fa-check"></i><b>14.1.3</b> Inverse odds ratio model, oETS<span class="math inline">\(_I\)</span></a></li>
<li class="chapter" data-level="14.1.4" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSG"><i class="fa fa-check"></i><b>14.1.4</b> General oETS model, oETS<span class="math inline">\(_G\)</span></a></li>
<li class="chapter" data-level="14.1.5" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#direct-probability-model-oets_d"><i class="fa fa-check"></i><b>14.1.5</b> Direct probability model, oETS<span class="math inline">\(_D\)</span></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="ADAMDemandSizes.html"><a href="ADAMDemandSizes.html"><i class="fa fa-check"></i><b>14.2</b> Demand sizes part of the model</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="ADAMDemandSizes.html"><a href="ADAMDemandSizes.html#additive-vs-multiplicative-ets-for-demand-sizes"><i class="fa fa-check"></i><b>14.2.1</b> Additive vs multiplicative ETS for demand sizes</a></li>
<li class="chapter" data-level="14.2.2" data-path="ADAMDemandSizes.html"><a href="ADAMDemandSizes.html#using-arima-for-demand-sizes"><i class="fa fa-check"></i><b>14.2.2</b> Using ARIMA for demand sizes</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="the-full-adam-model.html"><a href="the-full-adam-model.html"><i class="fa fa-check"></i><b>14.3</b> The full ADAM model</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="the-full-adam-model.html"><a href="the-full-adam-model.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>14.3.1</b> Maximum Likelihood Estimation</a></li>
<li class="chapter" data-level="14.3.2" data-path="the-full-adam-model.html"><a href="the-full-adam-model.html#examples-of-application-1"><i class="fa fa-check"></i><b>14.3.2</b> Examples of application</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ADAMSelection.html"><a href="ADAMSelection.html"><i class="fa fa-check"></i><b>15</b> Model selection and combinations in ADAM</a>
<ul>
<li class="chapter" data-level="15.1" data-path="ETSSelection.html"><a href="ETSSelection.html"><i class="fa fa-check"></i><b>15.1</b> ADAM ETS components selection</a></li>
<li class="chapter" data-level="15.2" data-path="ARIMASelection.html"><a href="ARIMASelection.html"><i class="fa fa-check"></i><b>15.2</b> ADAM ARIMA order selection</a></li>
<li class="chapter" data-level="15.3" data-path="ETSXSelection.html"><a href="ETSXSelection.html"><i class="fa fa-check"></i><b>15.3</b> Explanatory variables selection</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Time Series Analysis and Forecasting with ADAM</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class = rmdreview>
This book is in <b><a href="open.html#open">Open Review</a></b>. I want your feedback to make the book better for you and other readers. To add your annotation, <span style="background-color: #3297FD; color: white">select some text</span> and then click the <i class="h-icon-annotate"></i> on the pop-up menu. To see the annotations of others, click the button in the upper right hand corner of the page <i class="fa fa-arrow-circle-right  fa-rotate-315" aria-hidden="true"></i>
</div>
<div id="the-full-adam-model" class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> The full ADAM model</h2>
<p>Uniting <a href="ADAMOccurrence.html#ADAMOccurrence">demand occurrence</a> with the <a href="#iADAMDemandSizes">demand sizes</a> parts of the model, we can now discuss the full iETS model, which in the most general form can be represented as:
<span class="math display" id="eq:iETSG">\[\begin{equation}
    \begin{aligned}
        &amp; y_t = o_t z_t , \\
        &amp; {z}_{t} = w_z(\mathbf{v}_{z,t-\mathbf{l}}) + r_z(\mathbf{v}_{z,t-\mathbf{l}}) \epsilon_{z,t} \\
        &amp; \mathbf{v}_{z,t} = f_z(\mathbf{v}_{z,t-\mathbf{l}}) + g_z(\mathbf{v}_{z,t-\mathbf{l}}) \epsilon_{z,t} \\
        &amp; \\
        &amp; o_t \sim \text{Bernoulli} \left(p_t \right) , \\
        &amp; p_t = f_p(\mu_{a,t}, \mu_{b,t}) \\
        &amp; a_t = w_a(\mathbf{v}_{a,t-\mathbf{l}}) + r_a(\mathbf{v}_{a,t-\mathbf{l}}) \epsilon_{a,t} \\
        &amp; \mathbf{v}_{a,t} = f_a(\mathbf{v}_{a,t-\mathbf{l}}) + g_a(\mathbf{v}_{a,t-\mathbf{l}}) \epsilon_{a,t} \\
        &amp; b_t = w_b(\mathbf{v}_{b,t-\mathbf{l}}) + r_b(\mathbf{v}_{b,t-\mathbf{l}}) \epsilon_{b,t} \\
        &amp; \mathbf{v}_{b,t} = f_b(\mathbf{v}_{b,t-\mathbf{l}}) + g_b(\mathbf{v}_{b,t-\mathbf{l}}) \epsilon_{b,t}
    \end{aligned} ,
  \tag{14.25}
\end{equation}\]</span>
where the elements of the demand size and demand occurrence parts have been defined in Sections <a href="ADAMETSIntroduction.html#ADAMETSIntroduction">6</a> and <a href="ADAMOccurrence.html#oETSG">14.1.4</a> respectively. The model <a href="the-full-adam-model.html#eq:iETSG">(14.25)</a> can also be considered as a more general one to the conventional ADAM ETS and ARIMA models. And if the probability of occurrence <span class="math inline">\(p_t\)</span> is equal to one for all observations, then the model reverts to them.</p>
<p>Depending on the specific model for each part and restrictions on <span class="math inline">\(\mu_{a,t}\)</span> and <span class="math inline">\(\mu_{b,t}\)</span>, we might have different types of iETS models. In order to distinguish one model from another, we introduce the notation of iETS models of the form “iETS(demand sizes model)<span class="math inline">\(_\text{type of occurrence}\)</span>(model A type)(model B type).” For example, in the iETS(M,N,N)<span class="math inline">\(_G\)</span>(A,N,N)(M,M,N) the first brackets say that ETS(M,N,N) was applied to the demand sizes, the underscore letter points out that this is the <a href="ADAMOccurrence.html#oETSG">“general probability” model</a>, which has ETS(A,N,N) for the model A and ETS(M,M,N) for the model B. If only one variable is needed (either <span class="math inline">\(a_t\)</span> or <span class="math inline">\(b_t\)</span>), then the redundant brackets are dropped, and the notation is simplified, for example, to: iETS(M,N,N)<span class="math inline">\(_O\)</span>(M,N,N). If the same type of model is used for both demand sizes and demand occurrence, then the second brackets can be dropped as well, simplifying this further to: iETS(M,N,N)<span class="math inline">\(_O\)</span> (<a href="ADAMOccurrence.html#oETSO">odds ratio model</a> with ETS(M,N,N) for all parts). All these models are implemented in <code>adam()</code> function for <code>smooth</code> package in R.</p>
<p>Similar notations and principles can be used for models based on ARIMA. Note that oARIMA is not yet implemented, but in theory a model like iARIMA(0,1,1)<span class="math inline">\(_O\)</span>(0,1,1) could be constructed in ADAM framework.</p>
<div id="maximum-likelihood-estimation" class="section level3" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Maximum Likelihood Estimation</h3>
<p>While there are different ways of estimating the parameters of ADAM model <a href="the-full-adam-model.html#eq:iETSG">(14.25)</a>, it is worth focusing on <a href="likelihoodApproach.html#likelihoodApproach">likelihood estimation</a>. The log-likelihood of the model should consist of several parts:</p>
<ol style="list-style-type: decimal">
<li>The PDF of demand sizes part of the model, when demand occurs;</li>
<li>The probability of occurrence;</li>
<li>The probability of inoccurrence.</li>
</ol>
<p>When demand occurs the likelihood is:
<span class="math display" id="eq:LogLikelihoodOccurs">\[\begin{equation}
    \mathcal{L}(\boldsymbol{\theta}, \lambda_\epsilon | y_t, o_t=1) = p_t f_z(z_t | \mathbf{v}_{z,t-\mathbf{l}}) ,
    \tag{14.26}
\end{equation}\]</span>
while in the opposite case it is:
<span class="math display" id="eq:LogLikelihoodOccursNot">\[\begin{equation}
    \mathcal{L}(\boldsymbol{\theta}, \lambda_\epsilon | y_t, o_t=0) = (1-p_t) f_z(z_t | \mathbf{v}_{z,t-\mathbf{l}}).
    \tag{14.27}
\end{equation}\]</span>
Based on the equations <a href="the-full-adam-model.html#eq:LogLikelihoodOccurs">(14.26)</a> and <a href="the-full-adam-model.html#eq:LogLikelihoodOccursNot">(14.27)</a>, we can summarise the likelihood for the whole sample of <span class="math inline">\(T\)</span> observations:
<span class="math display" id="eq:LikelihoodForDGP">\[\begin{equation}
    \mathcal{L}(\boldsymbol{\theta}, \lambda_\epsilon | \textbf{Y}) = \prod_{o_t=1} p_t \prod_{o_t=0} (1-p_t) \prod_{t=1}^T f_z(z_t | \mathbf{v}_{z,t-\mathbf{l}}) ,
    \tag{14.28}
\end{equation}\]</span>
or in logarithms:
<span class="math display" id="eq:LogLikelihoodForDGP">\[\begin{equation}
    \ell(\boldsymbol{\theta}, \lambda_\epsilon | \textbf{Y}) = \sum_{t=1}^T f_z(z_t | \mathbf{v}_{z,t-\mathbf{l}}) + \sum_{o_t=1} \log(p_t) + \sum_{o_t=0} \log(1-p_t),
    \tag{14.29}
\end{equation}\]</span>
where <span class="math inline">\(f_z(z_t | \mathbf{v}_{z,t-\mathbf{l}})\)</span> can be substituted by a likelihood of the assumed distribution from the list of candidates in Section <a href="ADAMETSEstimationLikelihood.html#ADAMETSEstimationLikelihood">12.1</a> (substituting <span class="math inline">\(T\)</span> in formulae in Tables <a href="ADAMETSEstimationLikelihood.html#tab:additiveErrorLikelihoods">12.1</a> and <a href="ADAMETSEstimationLikelihood.html#tab:multiplicativeErrorLikelihoods">12.2</a> by <span class="math inline">\(T_1\)</span>). The main issue in calculating the likelihood <a href="the-full-adam-model.html#eq:LogLikelihoodForDGP">(14.29)</a> is that the demand sizes are not observable when <span class="math inline">\(o_t=0\)</span>. This means that we cannot calculate the likelihood using the conventional approach, we need to use something else. <span class="citation"><a href="references.html#ref-Svetunkov2019a" role="doc-biblioref">Svetunkov and Boylan</a> (<a href="references.html#ref-Svetunkov2019a" role="doc-biblioref">2019</a>)</span> proposed using Expectation Maximisation (EM) algorithm for this purpose, which is typically done in the following stages:</p>
<ol style="list-style-type: decimal">
<li>Take <em>Expectation</em> of the likelihood;</li>
<li><em>Maximise</em> it with the obtained parameters;</li>
<li>Go to (1) with the new set of parameters if the likelihood has not converged to maximum.</li>
</ol>
<p>A classical example with EM is when there are several samples with different parameters and we need to split them, but we do not know where specific observations belongs to and what is the probability that each observation belongs to one of the groups. In our context, it is a slightly different idea: we know probabilities, but we do not observe some of demand sizes. If we take the expectation of <a href="the-full-adam-model.html#eq:LogLikelihoodForDGP">(14.29)</a> with respect to the unobserved demand sizes, we will get:
<span class="math display" id="eq:LogLikelihoodForDGPExpectation">\[\begin{equation}
    \begin{aligned}
    \ell(\boldsymbol{\theta}, {\lambda}_\epsilon | \textbf{Y}) &amp; = \sum_{o_t=1} \log f_z \left(z_{t} | \mathbf{v}_{z,t-\mathbf{l}} \right) + \sum_{o_t=0} \text{E} \left( \log f_z \left(z_{t} | \mathbf{v}_{z,t-\mathbf{l}} \right) \right) \\
    &amp; + \sum_{o_t=1} \log(p_t) + \sum_{o_t=0} \log(1- p_t)
    \end{aligned}.
    \tag{14.30}
\end{equation}\]</span>
Luckily, the expectation in <a href="the-full-adam-model.html#eq:LogLikelihoodForDGPExpectation">(14.30)</a> is known in statistics as “Differential Entropy” (it is actually negative differential entropy in the formula above). It will differ from one case to another, depending on the assumed demand sizes distribution. Table <a href="the-full-adam-model.html#tab:differentialEntropy">14.1</a> summarises differential entropies for the distributions used in ADAM.</p>
<table class="table" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:differentialEntropy">Table 14.1: </span>Differential entropies for different distributions. <span class="math inline">\(\Gamma(\cdot)\)</span> is the Gamma function, while <span class="math inline">\(\psi(\cdot)\)</span> is the digamma function.
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Assumption
</th>
<th style="text-align:left;">
Differential Entropy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<strong>Normal</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(\epsilon_t \sim \mathcal{N}(0, \sigma^2)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{1}{2}\left(\log(2\pi\sigma^2)+1\right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>Laplace</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(\epsilon_t \sim \mathcal{Laplace}(0, s)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(1+\log(2s)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>S</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(\epsilon_t \sim \mathcal{S}(0, s)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(2+2\log(2s)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>Generalised Normal</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(\epsilon_t \sim \mathcal{GN}(0, s, \beta)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\beta^{-1}-\log\left(\frac{\beta}{2s\Gamma\left(\beta^{-1}\right)}\right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>Asymmetric Laplace</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(\epsilon_t \sim \mathcal{ALaplace}(0, s, \alpha)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(1+\log(2s)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>Inverse Gaussian</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(1+\epsilon_t \sim \mathcal{IG}(1, s)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{1}{2}\left(\log \pi e s -\log(2) \right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>Gamma</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(1+\epsilon_t \sim \mathcal{\Gamma}(s^{-1}, s)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(s^{-1} + \log \Gamma\left(s^{-1} \right) + \left(1-s^{-1}\right)\psi\left(s^{-1}\right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>Log Normal</strong>
</td>
<td style="text-align:left;">
<span class="math inline">\(1+\epsilon_t \sim \mathrm{log}\mathcal{N}\left(-\frac{\sigma^2}{2}, \sigma^2\right)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{1}{2}\left(\log(2\pi\sigma^2)+1\right)-\frac{\sigma^2}{2}\)</span>
</td>
</tr>
</tbody>
</table>
<p>The majority of formulae for differential entropy in Table <a href="the-full-adam-model.html#tab:differentialEntropy">14.1</a> are taken from <span class="citation"><a href="references.html#ref-WikipediaDifferentialEntropy2021" role="doc-biblioref">Wikipedia</a> (<a href="references.html#ref-WikipediaDifferentialEntropy2021" role="doc-biblioref">2021</a>)</span> with the exclusion of the one for <span class="math inline">\(\mathcal{IG}\)</span>, which was derived by <span class="citation"><a href="references.html#ref-Mudholkar2002" role="doc-biblioref">Mudholkar and Tian</a> (<a href="references.html#ref-Mudholkar2002" role="doc-biblioref">2002</a>)</span>. These values can be inserted instead of the <span class="math inline">\(\text{E} \left( \log f_z \left(z_{t} | \mathbf{v}_{z,t-\mathbf{l}} \right) \right)\)</span> in the formula <a href="the-full-adam-model.html#eq:LogLikelihoodForDGPExpectation">(14.30)</a>, leading to the expected likelihood for respective distributions. Luckily, the EM process in our specific situation does not need to be iterative - the obtained likelihood can then be maximised directly by changing the values of parameters <span class="math inline">\(\boldsymbol{\theta}\)</span>. It is also possible to derive analytical formulae for parameters of some of distributions based on <a href="the-full-adam-model.html#eq:LogLikelihoodForDGPExpectation">(14.30)</a> and the values from Table <a href="the-full-adam-model.html#tab:differentialEntropy">14.1</a>. For example, in case of <span class="math inline">\(\mathcal{IG}\)</span> the estimate of scale parameter is:
<span class="math display" id="eq:IGLogLikelihoodScale">\[\begin{equation}
    \hat{s} = \frac{1}{T} \sum_{o_t=1}\frac{e_t^2}{1+e_t}.
    \tag{14.31}
\end{equation}\]</span>
In fact, it can be shown that the likelihood estimates of scales for different distributions correspond to the conventional formulae from Section <a href="ADAMETSEstimationLikelihood.html#ADAMETSEstimationLikelihood">12.1</a>, but with the summation over <span class="math inline">\(o_t=1\)</span> instead of all the observations. Note however that the division in <a href="the-full-adam-model.html#eq:IGLogLikelihoodScale">(14.31)</a> is done by the whole sample <span class="math inline">\(T\)</span>. This implies that the estimate of scale will be <a href="estimatesProperties.html#estimatesPropertiesBias">biased</a>, similarly to the classical bias of the sample variance <a href="estimatesProperties.html#eq:varianceBiased">(2.1)</a>. However, in the full ADAM model, the estimate of scale is biased not only in sample, but <a href="estimatesProperties.html#asymptoticNormality">asymptotically</a> as well, implying that with the increase of the sample size it will be consistently lower than needed. This is because the summation is done over the non-zero values, while the division is done over the whole sample. This proportion of non-zeroes will impact the scale in <a href="the-full-adam-model.html#eq:IGLogLikelihoodScale">(14.31)</a>, deflating its value. The only situation, when the bias will be reduced is when the probabilty of occurrence reaches 1 (demand on product becomes regular). Still, the value <a href="the-full-adam-model.html#eq:IGLogLikelihoodScale">(14.31)</a> will maximise the expected likelihood <a href="the-full-adam-model.html#eq:LogLikelihoodForDGPExpectation">(14.30)</a> and is useful for inference. However, if one needs to construct prediction intervals, this bias needs to be addressed, which can be done using the following correction:
<span class="math display" id="eq:scaleFixed">\[\begin{equation}
    \hat{s}^\prime = \frac{T}{T_1-k} \hat{s},
    \tag{14.32}
\end{equation}\]</span>
where <span class="math inline">\(k\)</span> is the number of all estimated parameters.</p>
<p>The final thing to note is that all the iETS models estimated via the maximisation of likelihood will produce <a href="estimatesProperties.html#estimatesPropertiesConsistency">consistent</a>, <a href="estimatesProperties.html#estimatesPropertiesEfficiency">efficient</a>, but <a href="estimatesProperties.html#estimatesPropertiesBias">positively biased</a> estimates of the smoothing parameters <span class="citation">(see explanation in <a href="references.html#ref-Svetunkov2019a" role="doc-biblioref">Svetunkov and Boylan, 2019</a>)</span>. Given the connection between MLE for some distributions and MSE (see Section <a href="non-mle-based-loss-functions.html#MSEandMAEEstimators">12.2.1</a> for detail), this also implies that such forecasting methods as Croston <span class="citation">(<a href="references.html#ref-Croston1972" role="doc-biblioref">Croston, 1972</a>)</span> and TSB <span class="citation">(<a href="references.html#ref-Teunter2011" role="doc-biblioref">Teunter et al., 2011</a>)</span> would also result in positively biased estimates of parameters, when estimated via the minimisation of MSE.</p>
<!-- Note that estimating seasonality on intermittent data is challenging -->
<!-- ### Occurrence part selection in iETS -->
<!-- ### Conditional means and variance -->
</div>
<div id="examples-of-application-1" class="section level3" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Examples of application</h3>
<p>In order to see how ADAM works on intermittent data, we consider the same example from the Section <a href="ADAMOccurrence.html#ADAMOccurrence">14.1</a>. We remember that in that example both demand occurrence and demand sizes increase over time, meaning that we can try the model with trend for both parts:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="the-full-adam-model.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y)</span></code></pre></div>
<p><img src="adam_files/figure-html/unnamed-chunk-119-1.png" width="672" /></p>
<p>This can be done using <code>adam()</code> function from <code>smooth</code> package, defining the type of occurrence to use. We will try several options and select the one that has the lowest AICc:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="the-full-adam-model.html#cb196-1" aria-hidden="true" tabindex="-1"></a>adamModelsiETS <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;list&quot;</span>,<span class="dv">4</span>)</span>
<span id="cb196-2"><a href="the-full-adam-model.html#cb196-2" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;MMN&quot;</span>, <span class="at">occurrence=</span><span class="st">&quot;odds-ratio&quot;</span>,</span>
<span id="cb196-3"><a href="the-full-adam-model.html#cb196-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb196-4"><a href="the-full-adam-model.html#cb196-4" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;MMN&quot;</span>, <span class="at">occurrence=</span><span class="st">&quot;inverse-odds-ratio&quot;</span>,</span>
<span id="cb196-5"><a href="the-full-adam-model.html#cb196-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb196-6"><a href="the-full-adam-model.html#cb196-6" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[<span class="dv">3</span>]] <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;MMN&quot;</span>, <span class="at">occurrence=</span><span class="st">&quot;direct&quot;</span>,</span>
<span id="cb196-7"><a href="the-full-adam-model.html#cb196-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb196-8"><a href="the-full-adam-model.html#cb196-8" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[<span class="dv">4</span>]] <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;MMN&quot;</span>, <span class="at">occurrence=</span><span class="st">&quot;general&quot;</span>,</span>
<span id="cb196-9"><a href="the-full-adam-model.html#cb196-9" aria-hidden="true" tabindex="-1"></a>                            <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning: You have defined bounds=&#39;none&#39;. This is dangerous and might lead to
## an unstable model or even break the function. Hopefully, you know what you are
## doing :).</code></pre>
<pre><code>## Warning: Unreasonable values of states were produced in the estimation. So, we substituted them with the previous values.
## This is because the model exhibited explosive behaviour.</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="the-full-adam-model.html#cb199-1" aria-hidden="true" tabindex="-1"></a>adamModelsiETSAICcs <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">sapply</span>(adamModelsiETS,AICc),</span>
<span id="cb199-2"><a href="the-full-adam-model.html#cb199-2" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">c</span>(<span class="st">&quot;odds-ratio&quot;</span>,<span class="st">&quot;inverse-odds-ratio&quot;</span>,<span class="st">&quot;direct&quot;</span>,<span class="st">&quot;general&quot;</span>))</span>
<span id="cb199-3"><a href="the-full-adam-model.html#cb199-3" aria-hidden="true" tabindex="-1"></a>adamModelsiETSAICcs</span></code></pre></div>
<pre><code>##         odds-ratio inverse-odds-ratio             direct            general 
##           333.3965           336.6216           340.2819           365.8195</code></pre>
<p>Based on this, we can see that the model with odds-ratio has the lowest AICc. We can see how the model has approximated the data and produced forecasts for the holdout:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="the-full-adam-model.html#cb201-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">which.min</span>(adamModelsiETSAICcs)</span>
<span id="cb201-2"><a href="the-full-adam-model.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(adamModelsiETS[[i]],<span class="dv">7</span>)</span></code></pre></div>
<p><img src="adam_files/figure-html/unnamed-chunk-121-1.png" width="672" /></p>
<p>We can explore the demand occurrence part of this model the following way:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="the-full-adam-model.html#cb202-1" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[i]]<span class="sc">$</span>occurrence</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: Odds ratio
## Underlying ETS model: oETS[O](MMN)
## Smoothing parameters:
##  level  trend 
## 0.0079 0.0023 
## Vector of initials:
##  level  trend 
## 0.5256 0.9673 
## 
## Error standard deviation: 1.4226
## Sample size: 110
## Number of estimated parameters: 4
## Number of degrees of freedom: 106
## Information criteria: 
##      AIC     AICc      BIC     BICc 
## 105.7196 106.1006 116.5216 117.4169</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="the-full-adam-model.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(adamModelsiETS[[i]]<span class="sc">$</span>occurrence)</span></code></pre></div>
<p><img src="adam_files/figure-html/unnamed-chunk-122-1.png" width="672" /></p>
<p>Depending on the generated data, there might be issues in the ETS(M,M,N) model for demand sizes, if the smoothing parameters are large. So, we can try out the ADAM logARIMA(0,2,2) to see how it compares with this model. Given that ARIMA is not yet implemented for the occurrence part of the model, we need to construct it separately and then use in <code>adam()</code>:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="the-full-adam-model.html#cb205-1" aria-hidden="true" tabindex="-1"></a>oETSModel <span class="ot">&lt;-</span> <span class="fu">oes</span>(y, <span class="st">&quot;MMN&quot;</span>, <span class="at">occurrence=</span><span class="fu">names</span>(adamModelsiETSAICcs)[i],</span>
<span id="cb205-2"><a href="the-full-adam-model.html#cb205-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb205-3"><a href="the-full-adam-model.html#cb205-3" aria-hidden="true" tabindex="-1"></a>adamModeliARIMA <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;NNN&quot;</span>, <span class="at">occurrence=</span>oETSModel, <span class="at">orders=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">2</span>),</span>
<span id="cb205-4"><a href="the-full-adam-model.html#cb205-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">distribution=</span><span class="st">&quot;dlnorm&quot;</span>, <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb205-5"><a href="the-full-adam-model.html#cb205-5" aria-hidden="true" tabindex="-1"></a>adamModeliARIMA</span></code></pre></div>
<pre><code>## Time elapsed: 0.05 seconds
## Model estimated using adam() function: iARIMA(0,2,2)
## Occurrence model type: Odds ratio
## Distribution assumed in the model: Mixture of Bernoulli and Log Normal
## Loss function type: likelihood; Loss function value: 160.1414
## ARMA parameters of the model:
## MA:
## theta1[1] theta2[1] 
##   -1.1845    0.1845 
## 
## Sample size: 110
## Number of estimated parameters: 5
## Number of degrees of freedom: 105
## Number of provided parameters: 4
## Information criteria:
##      AIC     AICc      BIC     BICc 
## 428.0025 428.5794 441.5049 442.8608 
## 
## Forecast errors:
## Bias: -81.047%; sMSE: 323.818%; rRMSE: 1.131; sPIS: 6052.174%; sCE: -1409.679%</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="the-full-adam-model.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(adamModeliARIMA,<span class="dv">7</span>)</span></code></pre></div>
<p><img src="adam_files/figure-html/unnamed-chunk-123-1.png" width="672" /></p>
<p>Comparing the iARIMA model with the previous iETS based on AIC would not be fair, because as soon as the occurrence model is provided to <code>adam()</code>, he does not count the parameters estimated in that part towards the overal number of estimated parameters. In order to make the comparison fair, we need to estimate ADAM iETS in the following way:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="the-full-adam-model.html#cb208-1" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[i]] <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;MMN&quot;</span>, <span class="at">occurrence=</span>oETSModel,</span>
<span id="cb208-2"><a href="the-full-adam-model.html#cb208-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb208-3"><a href="the-full-adam-model.html#cb208-3" aria-hidden="true" tabindex="-1"></a>adamModelsiETS[[i]]</span></code></pre></div>
<pre><code>## Time elapsed: 0.03 seconds
## Model estimated using adam() function: iETS(MMN)
## Occurrence model type: Odds ratio
## Distribution assumed in the model: Mixture of Bernoulli and Inverse Gaussian
## Loss function type: likelihood; Loss function value: 108.55
## Persistence vector g:
##  alpha   beta 
## 0.1328 0.0055 
## 
## Sample size: 110
## Number of estimated parameters: 5
## Number of degrees of freedom: 105
## Number of provided parameters: 4
## Information criteria:
##      AIC     AICc      BIC     BICc 
## 324.8195 325.3965 338.3219 339.6779 
## 
## Forecast errors:
## Bias: -78.977%; sMSE: 236.147%; rRMSE: 0.966; sPIS: 5435.642%; sCE: -1161.671%</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="the-full-adam-model.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(adamModelsiETS[[i]],<span class="dv">7</span>)</span></code></pre></div>
<p><img src="adam_files/figure-html/unnamed-chunk-124-1.png" width="672" /></p>
<p>Comparing information criteria, the iETS model is more appropriate for this data. But this might be due to a different distributional assumptions and difficulties estimating ARIMA model. If you want to experiment more with ADAM iARIMA, you might try <a href="ADAMInitialisation.html#ADAMInitialisationOptAndBack">fine tuning</a> it for the data either by increasing the <code>maxeval</code> or changing the initialisation, for example:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="the-full-adam-model.html#cb211-1" aria-hidden="true" tabindex="-1"></a>adamModeliARIMA <span class="ot">&lt;-</span> <span class="fu">adam</span>(y, <span class="st">&quot;NNN&quot;</span>, <span class="at">occurrence=</span>oETSModel, <span class="at">orders=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">2</span>),</span>
<span id="cb211-2"><a href="the-full-adam-model.html#cb211-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">distribution=</span><span class="st">&quot;dinvgauss&quot;</span>, <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>, <span class="at">initial=</span><span class="st">&quot;back&quot;</span>)</span>
<span id="cb211-3"><a href="the-full-adam-model.html#cb211-3" aria-hidden="true" tabindex="-1"></a>adamModeliARIMA</span></code></pre></div>
<pre><code>## Time elapsed: 0.05 seconds
## Model estimated using adam() function: iARIMA(0,2,2)
## Occurrence model type: Odds ratio
## Distribution assumed in the model: Mixture of Bernoulli and Inverse Gaussian
## Loss function type: likelihood; Loss function value: 117.2087
## ARMA parameters of the model:
## MA:
## theta1[1] theta2[1] 
##   -1.8437    0.8526 
## 
## Sample size: 110
## Number of estimated parameters: 3
## Number of degrees of freedom: 107
## Number of provided parameters: 4
## Information criteria:
##      AIC     AICc      BIC     BICc 
## 338.1370 338.3635 346.2385 346.7706 
## 
## Forecast errors:
## Bias: -69.515%; sMSE: 153.298%; rRMSE: 0.778; sPIS: 3210.109%; sCE: -737.671%</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="the-full-adam-model.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(adamModeliARIMA,<span class="dv">7</span>)</span></code></pre></div>
<p><img src="adam_files/figure-html/unnamed-chunk-125-1.png" width="672" /></p>
<!-- ## Other related models -->
<!-- occurrence with provided values -->
<!-- occurrence estimated by alm() -->
<!-- Estimate initial seasonal on aggregate level -->

</div>
</div>
<!-- </div> -->

            </section>

          </div>
        </div>
      </div>
<a href="ADAMDemandSizes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ADAMSelection.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/config-i1/adam/tree/master/Chapters//14-ADAM-Occurrence.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["adam.pdf", "adam.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
