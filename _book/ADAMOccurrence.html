<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>13.1 Occurrence part of the model | Forecasting and Analytics with ADAM</title>
  <meta name="description" content="This monograph explains how to do time series analysis and forecasting using Augmented Dynamic Adaptive Model, implemented in smooth package for R." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="13.1 Occurrence part of the model | Forecasting and Analytics with ADAM" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This monograph explains how to do time series analysis and forecasting using Augmented Dynamic Adaptive Model, implemented in smooth package for R." />
  <meta name="github-repo" content="config-i1/adam" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13.1 Occurrence part of the model | Forecasting and Analytics with ADAM" />
  
  <meta name="twitter:description" content="This monograph explains how to do time series analysis and forecasting using Augmented Dynamic Adaptive Model, implemented in smooth package for R." />
  

<meta name="author" content="Ivan Svetunkov" />


<meta name="date" content="2022-06-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ADAMIntermittent.html"/>
<link rel="next" href="ADAMDemandSizes.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XH37Z8VYP8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XH37Z8VYP8');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Forecasting and Analytics with ADAM</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i>Who is this book for?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-adam"><i class="fa fa-check"></i>What is ADAM?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="forecastingPlanningAnalytics.html"><a href="forecastingPlanningAnalytics.html"><i class="fa fa-check"></i><b>1.1</b> Forecasting, planning and analytics</a></li>
<li class="chapter" data-level="1.2" data-path="forecastingPrinciples.html"><a href="forecastingPrinciples.html"><i class="fa fa-check"></i><b>1.2</b> Forecasting principles</a></li>
<li class="chapter" data-level="1.3" data-path="typesOfForecasts.html"><a href="typesOfForecasts.html"><i class="fa fa-check"></i><b>1.3</b> Types of forecasts</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="typesOfForecasts.html"><a href="typesOfForecasts.html#typesOfForecastsPoint"><i class="fa fa-check"></i><b>1.3.1</b> Point forecasts</a></li>
<li class="chapter" data-level="1.3.2" data-path="typesOfForecasts.html"><a href="typesOfForecasts.html#typesOfForecastsInterval"><i class="fa fa-check"></i><b>1.3.2</b> Quantiles and prediction intervals</a></li>
<li class="chapter" data-level="1.3.3" data-path="typesOfForecasts.html"><a href="typesOfForecasts.html#forecast-horizon"><i class="fa fa-check"></i><b>1.3.3</b> Forecast horizon</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="modelsMethods.html"><a href="modelsMethods.html"><i class="fa fa-check"></i><b>1.4</b> Models, methods and typical assumptions</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="modelsMethods.html"><a href="modelsMethods.html#assumptions"><i class="fa fa-check"></i><b>1.4.1</b> Assumptions of statistical models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="forecastsEvaluation.html"><a href="forecastsEvaluation.html"><i class="fa fa-check"></i><b>2</b> Forecasts evaluation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="errorMeasures.html"><a href="errorMeasures.html"><i class="fa fa-check"></i><b>2.1</b> Measuring accuracy of point forecasts</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="errorMeasures.html"><a href="errorMeasures.html#an-example-in-r"><i class="fa fa-check"></i><b>2.1.1</b> An example in R</a></li>
<li class="chapter" data-level="2.1.2" data-path="errorMeasures.html"><a href="errorMeasures.html#errorMeasuresAggregate"><i class="fa fa-check"></i><b>2.1.2</b> Aggregating error measures</a></li>
<li class="chapter" data-level="2.1.3" data-path="errorMeasures.html"><a href="errorMeasures.html#errorMeasuresExampleBig"><i class="fa fa-check"></i><b>2.1.3</b> Demonstration in R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>2.2</b> Measuring uncertainty</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="uncertainty.html"><a href="uncertainty.html#example-in-r"><i class="fa fa-check"></i><b>2.2.1</b> Example in R</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="errorMeasuresSelection.html"><a href="errorMeasuresSelection.html"><i class="fa fa-check"></i><b>2.3</b> How to choose appropriate error measure</a></li>
<li class="chapter" data-level="2.4" data-path="rollingOrigin.html"><a href="rollingOrigin.html"><i class="fa fa-check"></i><b>2.4</b> Rolling origin</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="rollingOrigin.html"><a href="rollingOrigin.html#principles-of-rolling-origin"><i class="fa fa-check"></i><b>2.4.1</b> Principles of Rolling origin</a></li>
<li class="chapter" data-level="2.4.2" data-path="rollingOrigin.html"><a href="rollingOrigin.html#rolling-origin-in-r"><i class="fa fa-check"></i><b>2.4.2</b> Rolling origin in R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="statisticalTests.html"><a href="statisticalTests.html"><i class="fa fa-check"></i><b>2.5</b> Statistical comparison of forecasts</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tsDecomposition.html"><a href="tsDecomposition.html"><i class="fa fa-check"></i><b>3</b> Time series components and simple forecasting methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tsComponents.html"><a href="tsComponents.html"><i class="fa fa-check"></i><b>3.1</b> Time series components</a></li>
<li class="chapter" data-level="3.2" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html"><i class="fa fa-check"></i><b>3.2</b> Classical Seasonal Decomposition</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#how-to-do"><i class="fa fa-check"></i><b>3.2.1</b> How to do?</a></li>
<li class="chapter" data-level="3.2.2" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#a-couple-of-examples"><i class="fa fa-check"></i><b>3.2.2</b> A couple of examples</a></li>
<li class="chapter" data-level="3.2.3" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#other-decomposition-techniques"><i class="fa fa-check"></i><b>3.2.3</b> Other decomposition techniques</a></li>
<li class="chapter" data-level="3.2.4" data-path="ClassicalDecomposition.html"><a href="ClassicalDecomposition.html#why-bother"><i class="fa fa-check"></i><b>3.2.4</b> “Why bother?”</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html"><i class="fa fa-check"></i><b>3.3</b> Simple forecasting methods</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html#Naive"><i class="fa fa-check"></i><b>3.3.1</b> Naïve</a></li>
<li class="chapter" data-level="3.3.2" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html#GlobalMean"><i class="fa fa-check"></i><b>3.3.2</b> Global Mean</a></li>
<li class="chapter" data-level="3.3.3" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html#SMA"><i class="fa fa-check"></i><b>3.3.3</b> Simple Moving Average</a></li>
<li class="chapter" data-level="3.3.4" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html#RWWithDrift"><i class="fa fa-check"></i><b>3.3.4</b> Random Walk with drift</a></li>
<li class="chapter" data-level="3.3.5" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html#GlobalTrend"><i class="fa fa-check"></i><b>3.3.5</b> Global Trend</a></li>
<li class="chapter" data-level="3.3.6" data-path="simpleForecastingMethods.html"><a href="simpleForecastingMethods.html#NaiveSeasonal"><i class="fa fa-check"></i><b>3.3.6</b> Seasonal Naïve</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="SES.html"><a href="SES.html"><i class="fa fa-check"></i><b>3.4</b> Simple Exponential Smoothing</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="SES.html"><a href="SES.html#examples-of-application"><i class="fa fa-check"></i><b>3.4.1</b> Examples of application</a></li>
<li class="chapter" data-level="3.4.2" data-path="SES.html"><a href="SES.html#whyExponential"><i class="fa fa-check"></i><b>3.4.2</b> Why “exponential”?</a></li>
<li class="chapter" data-level="3.4.3" data-path="SES.html"><a href="SES.html#SESEC"><i class="fa fa-check"></i><b>3.4.3</b> Error correction form of SES</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ETSConventional.html"><a href="ETSConventional.html"><i class="fa fa-check"></i><b>4</b> Introduction to ETS</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ETSTaxonomy.html"><a href="ETSTaxonomy.html"><i class="fa fa-check"></i><b>4.1</b> ETS taxonomy</a></li>
<li class="chapter" data-level="4.2" data-path="ETSTaxonomyMaths.html"><a href="ETSTaxonomyMaths.html"><i class="fa fa-check"></i><b>4.2</b> Mathematical models in the ETS taxonomy</a></li>
<li class="chapter" data-level="4.3" data-path="SESandETS.html"><a href="SESandETS.html"><i class="fa fa-check"></i><b>4.3</b> ETS and SES</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="SESandETS.html"><a href="SESandETS.html#etsann"><i class="fa fa-check"></i><b>4.3.1</b> ETS(A,N,N)</a></li>
<li class="chapter" data-level="4.3.2" data-path="SESandETS.html"><a href="SESandETS.html#ETSMNNSES"><i class="fa fa-check"></i><b>4.3.2</b> ETS(M,N,N)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ETSExamples.html"><a href="ETSExamples.html"><i class="fa fa-check"></i><b>4.4</b> Several examples of ETS and related exponential smoothing methods</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="ETSExamples.html"><a href="ETSExamples.html#ETSAAN"><i class="fa fa-check"></i><b>4.4.1</b> ETS(A,A,N)</a></li>
<li class="chapter" data-level="4.4.2" data-path="ETSExamples.html"><a href="ETSExamples.html#ETSAAdN"><i class="fa fa-check"></i><b>4.4.2</b> ETS(A,Ad,N)</a></li>
<li class="chapter" data-level="4.4.3" data-path="ETSExamples.html"><a href="ETSExamples.html#ETSAAMModel"><i class="fa fa-check"></i><b>4.4.3</b> ETS(A,A,M)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="ets-assumptions-estimation-and-selection.html"><a href="ets-assumptions-estimation-and-selection.html"><i class="fa fa-check"></i><b>4.5</b> ETS assumptions, estimation and selection</a></li>
<li class="chapter" data-level="4.6" data-path="ETSConventionalModel.html"><a href="ETSConventionalModel.html"><i class="fa fa-check"></i><b>4.6</b> State space form of ETS</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="ETSConventionalModel.html"><a href="ETSConventionalModel.html#ETSConventionalModelAdditive"><i class="fa fa-check"></i><b>4.6.1</b> Pure additive state space model</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="ETSParametersBounds.html"><a href="ETSParametersBounds.html"><i class="fa fa-check"></i><b>4.7</b> Parameters bounds</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ADAMETSIntroduction.html"><a href="ADAMETSIntroduction.html"><i class="fa fa-check"></i><b>5</b> Pure additive ADAM ETS</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ADAMETSPureAdditive.html"><a href="ADAMETSPureAdditive.html"><i class="fa fa-check"></i><b>5.1</b> Model formulation</a></li>
<li class="chapter" data-level="5.2" data-path="adamETSPureAdditiveRecursive.html"><a href="adamETSPureAdditiveRecursive.html"><i class="fa fa-check"></i><b>5.2</b> Recursive relation</a></li>
<li class="chapter" data-level="5.3" data-path="pureAdditiveExpectationAndVariance.html"><a href="pureAdditiveExpectationAndVariance.html"><i class="fa fa-check"></i><b>5.3</b> Conditional expectation and variance</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="pureAdditiveExpectationAndVariance.html"><a href="pureAdditiveExpectationAndVariance.html#example-with-etsann"><i class="fa fa-check"></i><b>5.3.1</b> Example with ETS(A,N,N)</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="stabilityConditionAdditiveError.html"><a href="stabilityConditionAdditiveError.html"><i class="fa fa-check"></i><b>5.4</b> Stability and forecastability conditions</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="stabilityConditionAdditiveError.html"><a href="stabilityConditionAdditiveError.html#example-with-etsann-1"><i class="fa fa-check"></i><b>5.4.1</b> Example with ETS(A,N,N)</a></li>
<li class="chapter" data-level="5.4.2" data-path="stabilityConditionAdditiveError.html"><a href="stabilityConditionAdditiveError.html#comming-back-to-the-general-case"><i class="fa fa-check"></i><b>5.4.2</b> Comming back to the general case</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="ADAMETSAdditiveDistributions.html"><a href="ADAMETSAdditiveDistributions.html"><i class="fa fa-check"></i><b>5.5</b> Distributional assumptions in pure additive ETS</a></li>
<li class="chapter" data-level="5.6" data-path="ADAMETSPureAdditiveExamples.html"><a href="ADAMETSPureAdditiveExamples.html"><i class="fa fa-check"></i><b>5.6</b> Examples of application</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="ADAMETSPureAdditiveExamples.html"><a href="ADAMETSPureAdditiveExamples.html#non-seasonal-data"><i class="fa fa-check"></i><b>5.6.1</b> Non-seasonal data</a></li>
<li class="chapter" data-level="5.6.2" data-path="ADAMETSPureAdditiveExamples.html"><a href="ADAMETSPureAdditiveExamples.html#ADAMETSPureAdditiveExamplesETSAAA"><i class="fa fa-check"></i><b>5.6.2</b> Seasonal data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ADAMETSPureMultiplicativeChapter.html"><a href="ADAMETSPureMultiplicativeChapter.html"><i class="fa fa-check"></i><b>6</b> Pure multiplicative ADAM ETS</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ADAMETSPureMultiplicative.html"><a href="ADAMETSPureMultiplicative.html"><i class="fa fa-check"></i><b>6.1</b> Model formulation</a></li>
<li class="chapter" data-level="6.2" data-path="adamETSPuremultiplicativeRecursive.html"><a href="adamETSPuremultiplicativeRecursive.html"><i class="fa fa-check"></i><b>6.2</b> Recursive relation</a></li>
<li class="chapter" data-level="6.3" data-path="pureMultiplicativeExpectationAndVariance.html"><a href="pureMultiplicativeExpectationAndVariance.html"><i class="fa fa-check"></i><b>6.3</b> The problem with moments in pure multiplicative ETS</a></li>
<li class="chapter" data-level="6.4" data-path="stabilityConditionMultiplicativeError.html"><a href="stabilityConditionMultiplicativeError.html"><i class="fa fa-check"></i><b>6.4</b> Smoothing parameters bounds</a></li>
<li class="chapter" data-level="6.5" data-path="ADAMETSMultiplicativeDistributions.html"><a href="ADAMETSMultiplicativeDistributions.html"><i class="fa fa-check"></i><b>6.5</b> Distributional assumptions in pure multiplicative ETS</a></li>
<li class="chapter" data-level="6.6" data-path="ADAMETSMultiplicativeExamples.html"><a href="ADAMETSMultiplicativeExamples.html"><i class="fa fa-check"></i><b>6.6</b> Examples of application</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="ADAMETSMultiplicativeExamples.html"><a href="ADAMETSMultiplicativeExamples.html#non-seasonal-data-1"><i class="fa fa-check"></i><b>6.6.1</b> Non-seasonal data</a></li>
<li class="chapter" data-level="6.6.2" data-path="ADAMETSMultiplicativeExamples.html"><a href="ADAMETSMultiplicativeExamples.html#seasonal-data"><i class="fa fa-check"></i><b>6.6.2</b> Seasonal data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ADAMETSOther.html"><a href="ADAMETSOther.html"><i class="fa fa-check"></i><b>7</b> General ADAM ETS model</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ADAMETSGeneral.html"><a href="ADAMETSGeneral.html"><i class="fa fa-check"></i><b>7.1</b> Model formulation</a></li>
<li class="chapter" data-level="7.2" data-path="ADAMETSMixedModels.html"><a href="ADAMETSMixedModels.html"><i class="fa fa-check"></i><b>7.2</b> Mixed ADAM ETS models</a></li>
<li class="chapter" data-level="7.3" data-path="ADAMETSMixedModelsGroup3.html"><a href="ADAMETSMixedModelsGroup3.html"><i class="fa fa-check"></i><b>7.3</b> Mixed models with non-multiplicative trend</a></li>
<li class="chapter" data-level="7.4" data-path="ADAMETSMixedModelsGroup4.html"><a href="ADAMETSMixedModelsGroup4.html"><i class="fa fa-check"></i><b>7.4</b> Mixed models with multiplicative trend</a></li>
<li class="chapter" data-level="7.5" data-path="ADAMETSSeasonalNormalisation.html"><a href="ADAMETSSeasonalNormalisation.html"><i class="fa fa-check"></i><b>7.5</b> Normalisation of seasonal indices in ETS models</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ARIMA.html"><a href="ARIMA.html"><i class="fa fa-check"></i><b>8</b> Conventional ARIMA</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html"><i class="fa fa-check"></i><b>8.1</b> Introduction to ARIMA</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#AR"><i class="fa fa-check"></i><b>8.1.1</b> AR(p)</a></li>
<li class="chapter" data-level="8.1.2" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#MA"><i class="fa fa-check"></i><b>8.1.2</b> MA(q)</a></li>
<li class="chapter" data-level="8.1.3" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#ARMA"><i class="fa fa-check"></i><b>8.1.3</b> ARMA(p,q)</a></li>
<li class="chapter" data-level="8.1.4" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#ARMAConstant"><i class="fa fa-check"></i><b>8.1.4</b> ARMA with constant</a></li>
<li class="chapter" data-level="8.1.5" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#Differences"><i class="fa fa-check"></i><b>8.1.5</b> I(d)</a></li>
<li class="chapter" data-level="8.1.6" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#arimapdq"><i class="fa fa-check"></i><b>8.1.6</b> ARIMA(p,d,q)</a></li>
<li class="chapter" data-level="8.1.7" data-path="ARIMAIntro.html"><a href="ARIMAIntro.html#ARIMABounds"><i class="fa fa-check"></i><b>8.1.7</b> Parameters bounds</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="seasonal-arima.html"><a href="seasonal-arima.html"><i class="fa fa-check"></i><b>8.2</b> Seasonal ARIMA</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="seasonal-arima.html"><a href="seasonal-arima.html#single-seasonal-arima"><i class="fa fa-check"></i><b>8.2.1</b> Single seasonal ARIMA</a></li>
<li class="chapter" data-level="8.2.2" data-path="seasonal-arima.html"><a href="seasonal-arima.html#sarima-with-constant"><i class="fa fa-check"></i><b>8.2.2</b> SARIMA with constant</a></li>
<li class="chapter" data-level="8.2.3" data-path="seasonal-arima.html"><a href="seasonal-arima.html#MSARIMA"><i class="fa fa-check"></i><b>8.2.3</b> Multiple seasonal ARIMA</a></li>
<li class="chapter" data-level="8.2.4" data-path="seasonal-arima.html"><a href="seasonal-arima.html#MSARIMABounds"><i class="fa fa-check"></i><b>8.2.4</b> Parameters bounds for MSARIMA</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="BJApproach.html"><a href="BJApproach.html"><i class="fa fa-check"></i><b>8.3</b> Box-Jenkins approach</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="BJApproach.html"><a href="BJApproach.html#identifying-stationarity"><i class="fa fa-check"></i><b>8.3.1</b> Identifying stationarity</a></li>
<li class="chapter" data-level="8.3.2" data-path="BJApproach.html"><a href="BJApproach.html#ACF"><i class="fa fa-check"></i><b>8.3.2</b> Autocorrelation function (ACF)</a></li>
<li class="chapter" data-level="8.3.3" data-path="BJApproach.html"><a href="BJApproach.html#PACF"><i class="fa fa-check"></i><b>8.3.3</b> Partial autocorrelation function (PACF)</a></li>
<li class="chapter" data-level="8.3.4" data-path="BJApproach.html"><a href="BJApproach.html#BJApproachSummary"><i class="fa fa-check"></i><b>8.3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html"><i class="fa fa-check"></i><b>8.4</b> ARIMA and ETS</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETS011"><i class="fa fa-check"></i><b>8.4.1</b> ARIMA(0,1,1) and ETS(A,N,N)</a></li>
<li class="chapter" data-level="8.4.2" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETS022"><i class="fa fa-check"></i><b>8.4.2</b> ARIMA(0,2,2) and ETS(A,A,N)</a></li>
<li class="chapter" data-level="8.4.3" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETS112"><i class="fa fa-check"></i><b>8.4.3</b> ARIMA(1,1,2) and ETS(A,Ad,N)</a></li>
<li class="chapter" data-level="8.4.4" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ARIMAETSOther"><i class="fa fa-check"></i><b>8.4.4</b> ARIMA and other ETS models</a></li>
<li class="chapter" data-level="8.4.5" data-path="ARIMAandETS.html"><a href="ARIMAandETS.html#ets-arima"><i class="fa fa-check"></i><b>8.4.5</b> ETS + ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="ARIMAExampleInR.html"><a href="ARIMAExampleInR.html"><i class="fa fa-check"></i><b>8.5</b> Examples of application</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="ARIMAExampleInR.html"><a href="ARIMAExampleInR.html#non-seasonal-data-2"><i class="fa fa-check"></i><b>8.5.1</b> Non-seasonal data</a></li>
<li class="chapter" data-level="8.5.2" data-path="ARIMAExampleInR.html"><a href="ARIMAExampleInR.html#ARIMAExampleInRSeasonal"><i class="fa fa-check"></i><b>8.5.2</b> Seasonal data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ADAMARIMA.html"><a href="ADAMARIMA.html"><i class="fa fa-check"></i><b>9</b> ADAM ARIMA</a>
<ul>
<li class="chapter" data-level="9.1" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html"><i class="fa fa-check"></i><b>9.1</b> State space ARIMA</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#an-example-of-state-space-arima"><i class="fa fa-check"></i><b>9.1.1</b> An example of State Space ARIMA</a></li>
<li class="chapter" data-level="9.1.2" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#StateSpaceARIMAAdditive"><i class="fa fa-check"></i><b>9.1.2</b> Additive ARIMA</a></li>
<li class="chapter" data-level="9.1.3" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#state-space-arima-with-constant"><i class="fa fa-check"></i><b>9.1.3</b> State space ARIMA with constant</a></li>
<li class="chapter" data-level="9.1.4" data-path="StateSpaceARIMA.html"><a href="StateSpaceARIMA.html#ADAMARIMAPureMultiplicative"><i class="fa fa-check"></i><b>9.1.4</b> Multiplicative ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ADAMARIMARecursive.html"><a href="ADAMARIMARecursive.html"><i class="fa fa-check"></i><b>9.2</b> Recursive relation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="ADAMARIMARecursive.html"><a href="ADAMARIMARecursive.html#ADAMARIMARecursiveMoments"><i class="fa fa-check"></i><b>9.2.1</b> Conditional moments of ADAM ARIMA</a></li>
<li class="chapter" data-level="9.2.2" data-path="ADAMARIMARecursive.html"><a href="ADAMARIMARecursive.html#parameters-bounds"><i class="fa fa-check"></i><b>9.2.2</b> Parameters bounds</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ADAMARIMADistributions.html"><a href="ADAMARIMADistributions.html"><i class="fa fa-check"></i><b>9.3</b> Distributional assumptions of ADAM ARIMA</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="ADAMARIMADistributions.html"><a href="ADAMARIMADistributions.html#conditional-distributions"><i class="fa fa-check"></i><b>9.3.1</b> Conditional distributions</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="ETSAndARIMA.html"><a href="ETSAndARIMA.html"><i class="fa fa-check"></i><b>9.4</b> ETS + ARIMA</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="ETSAndARIMA.html"><a href="ETSAndARIMA.html#pure-additive-models"><i class="fa fa-check"></i><b>9.4.1</b> Pure additive models</a></li>
<li class="chapter" data-level="9.4.2" data-path="ETSAndARIMA.html"><a href="ETSAndARIMA.html#ADAMARIMAMultiplicative"><i class="fa fa-check"></i><b>9.4.2</b> Pure multiplicative models</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="ADAMARIMAExamples.html"><a href="ADAMARIMAExamples.html"><i class="fa fa-check"></i><b>9.5</b> Examples of application</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ADAMX.html"><a href="ADAMX.html"><i class="fa fa-check"></i><b>10</b> Explanatory variables in ADAM</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ADAMXFormulation.html"><a href="ADAMXFormulation.html"><i class="fa fa-check"></i><b>10.1</b> ADAMX: Model formulation</a></li>
<li class="chapter" data-level="10.2" data-path="ADAMXConventionalConditionalMoments.html"><a href="ADAMXConventionalConditionalMoments.html"><i class="fa fa-check"></i><b>10.2</b> Conditional expectation and variance of ADAMX</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="ADAMXConventionalConditionalMoments.html"><a href="ADAMXConventionalConditionalMoments.html#adamx-with-deterministic-explanatory-variables"><i class="fa fa-check"></i><b>10.2.1</b> ADAMX with deterministic explanatory variables</a></li>
<li class="chapter" data-level="10.2.2" data-path="ADAMXConventionalConditionalMoments.html"><a href="ADAMXConventionalConditionalMoments.html#ADAMXConventionalConditionalMomentsRandom"><i class="fa fa-check"></i><b>10.2.2</b> ADAMX with stochastic explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html"><i class="fa fa-check"></i><b>10.3</b> Dynamic X in ADAMX</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html#ADAMXDynamicMoments"><i class="fa fa-check"></i><b>10.3.1</b> Recursion for dynamic ADAMX</a></li>
<li class="chapter" data-level="10.3.2" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html#conditional-moments-for-deterministic-explanatory-variables-in-adamxd"><i class="fa fa-check"></i><b>10.3.2</b> Conditional moments for deterministic explanatory variables in ADAMX{D}</a></li>
<li class="chapter" data-level="10.3.3" data-path="ADAMXDynamic.html"><a href="ADAMXDynamic.html#conditional-mean-for-stochastic-explanatory-variables-in-adamxd"><i class="fa fa-check"></i><b>10.3.3</b> Conditional mean for stochastic explanatory variables in ADAMX{D}</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="stability-and-forecastability-conditions-of-adamx.html"><a href="stability-and-forecastability-conditions-of-adamx.html"><i class="fa fa-check"></i><b>10.4</b> Stability and forecastability conditions of ADAMX</a></li>
<li class="chapter" data-level="10.5" data-path="ETSXDynamicCategories.html"><a href="ETSXDynamicCategories.html"><i class="fa fa-check"></i><b>10.5</b> Dealing with categorical variables in ADAMX</a></li>
<li class="chapter" data-level="10.6" data-path="ETSXRExample.html"><a href="ETSXRExample.html"><i class="fa fa-check"></i><b>10.6</b> Examples of application</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ADAMETSEstimation.html"><a href="ADAMETSEstimation.html"><i class="fa fa-check"></i><b>11</b> Estimation of ADAM</a>
<ul>
<li class="chapter" data-level="11.1" data-path="ADAMETSEstimationLikelihood.html"><a href="ADAMETSEstimationLikelihood.html"><i class="fa fa-check"></i><b>11.1</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="ADAMETSEstimationLikelihood.html"><a href="ADAMETSEstimationLikelihood.html#an-example-in-r-1"><i class="fa fa-check"></i><b>11.1.1</b> An example in R</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html"><i class="fa fa-check"></i><b>11.2</b> Non MLE-based loss functions</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#MSEandMAEEstimators"><i class="fa fa-check"></i><b>11.2.1</b> MSE and MAE</a></li>
<li class="chapter" data-level="11.2.2" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#ham"><i class="fa fa-check"></i><b>11.2.2</b> HAM</a></li>
<li class="chapter" data-level="11.2.3" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#lasso-and-ridge"><i class="fa fa-check"></i><b>11.2.3</b> LASSO and RIDGE</a></li>
<li class="chapter" data-level="11.2.4" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#custom-losses"><i class="fa fa-check"></i><b>11.2.4</b> Custom losses</a></li>
<li class="chapter" data-level="11.2.5" data-path="non-mle-based-loss-functions.html"><a href="non-mle-based-loss-functions.html#examples-in-r"><i class="fa fa-check"></i><b>11.2.5</b> Examples in R</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="multistepLosses.html"><a href="multistepLosses.html"><i class="fa fa-check"></i><b>11.3</b> Multistep losses</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="multistepLosses.html"><a href="multistepLosses.html#mathrmmse_h-mse-for-h-steps-ahead"><i class="fa fa-check"></i><b>11.3.1</b> <span class="math inline">\(\mathrm{MSE}_h\)</span> – MSE for h steps ahead</a></li>
<li class="chapter" data-level="11.3.2" data-path="multistepLosses.html"><a href="multistepLosses.html#multistepLossesTMSE"><i class="fa fa-check"></i><b>11.3.2</b> TMSE – Trace MSE</a></li>
<li class="chapter" data-level="11.3.3" data-path="multistepLosses.html"><a href="multistepLosses.html#multistepLossesGTMSE"><i class="fa fa-check"></i><b>11.3.3</b> GTMSE – Geometric Trace MSE</a></li>
<li class="chapter" data-level="11.3.4" data-path="multistepLosses.html"><a href="multistepLosses.html#msce-mean-squared-cumulative-error"><i class="fa fa-check"></i><b>11.3.4</b> MSCE – Mean Squared Cumulative Error</a></li>
<li class="chapter" data-level="11.3.5" data-path="multistepLosses.html"><a href="multistepLosses.html#gpl-general-predictive-likelihood"><i class="fa fa-check"></i><b>11.3.5</b> GPL – General Predictive Likelihood</a></li>
<li class="chapter" data-level="11.3.6" data-path="multistepLosses.html"><a href="multistepLosses.html#other-multistep-estimators"><i class="fa fa-check"></i><b>11.3.6</b> Other multistep estimators</a></li>
<li class="chapter" data-level="11.3.7" data-path="multistepLosses.html"><a href="multistepLosses.html#an-example-in-r-2"><i class="fa fa-check"></i><b>11.3.7</b> An example in R</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html"><i class="fa fa-check"></i><b>11.4</b> Initialisation of ADAM</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#ADAMInitialisationOptAndBack"><i class="fa fa-check"></i><b>11.4.1</b> Optimisation vs backcasting</a></li>
<li class="chapter" data-level="11.4.2" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-parameters"><i class="fa fa-check"></i><b>11.4.2</b> Pre-initialisation of ADAM parameters</a></li>
<li class="chapter" data-level="11.4.3" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-states-ets"><i class="fa fa-check"></i><b>11.4.3</b> Pre-initialisation of ADAM states, ETS</a></li>
<li class="chapter" data-level="11.4.4" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-states-arima"><i class="fa fa-check"></i><b>11.4.4</b> Pre-initialisation of ADAM states, ARIMA</a></li>
<li class="chapter" data-level="11.4.5" data-path="ADAMInitialisation.html"><a href="ADAMInitialisation.html#pre-initialisation-of-adam-states-regressors-and-constant"><i class="fa fa-check"></i><b>11.4.5</b> Pre-initialisation of ADAM states, Regressors and constant</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ADAMMultipleFrequencies.html"><a href="ADAMMultipleFrequencies.html"><i class="fa fa-check"></i><b>12</b> Multiple frequencies in ADAM</a>
<ul>
<li class="chapter" data-level="12.1" data-path="model-formulation.html"><a href="model-formulation.html"><i class="fa fa-check"></i><b>12.1</b> Model formulation</a></li>
<li class="chapter" data-level="12.2" data-path="ADAMMultiplIssues.html"><a href="ADAMMultiplIssues.html"><i class="fa fa-check"></i><b>12.2</b> Estimation of multiple seasonal model</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="ADAMMultiplIssues.html"><a href="ADAMMultiplIssues.html#adam-ets-issues"><i class="fa fa-check"></i><b>12.2.1</b> ADAM ETS issues</a></li>
<li class="chapter" data-level="12.2.2" data-path="ADAMMultiplIssues.html"><a href="ADAMMultiplIssues.html#adam-arima-issues"><i class="fa fa-check"></i><b>12.2.2</b> ADAM ARIMA issues</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ETSXMultipleSeasonality.html"><a href="ETSXMultipleSeasonality.html"><i class="fa fa-check"></i><b>12.3</b> Using explanatory variables for multiple seasonalities</a></li>
<li class="chapter" data-level="12.4" data-path="MultipleFrequenciesDSTandLeap.html"><a href="MultipleFrequenciesDSTandLeap.html"><i class="fa fa-check"></i><b>12.4</b> Dealing with daylight saving and leap years</a></li>
<li class="chapter" data-level="12.5" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html"><i class="fa fa-check"></i><b>12.5</b> Examples of application</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html#adam-ets"><i class="fa fa-check"></i><b>12.5.1</b> ADAM ETS</a></li>
<li class="chapter" data-level="12.5.2" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html#adam-etsx"><i class="fa fa-check"></i><b>12.5.2</b> ADAM ETSX</a></li>
<li class="chapter" data-level="12.5.3" data-path="ADAMMultipleFrequenciesExamples.html"><a href="ADAMMultipleFrequenciesExamples.html#adam-arima"><i class="fa fa-check"></i><b>12.5.3</b> ADAM ARIMA</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ADAMIntermittent.html"><a href="ADAMIntermittent.html"><i class="fa fa-check"></i><b>13</b> Intermittent State Space Model</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html"><i class="fa fa-check"></i><b>13.1</b> Occurrence part of the model</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#fixed-probability-model-oets_f"><i class="fa fa-check"></i><b>13.1.1</b> Fixed probability model, oETS<span class="math inline">\(_F\)</span></a></li>
<li class="chapter" data-level="13.1.2" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSO"><i class="fa fa-check"></i><b>13.1.2</b> Odds ratio model, oETS<span class="math inline">\(_O\)</span></a></li>
<li class="chapter" data-level="13.1.3" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSI"><i class="fa fa-check"></i><b>13.1.3</b> Inverse odds ratio model, oETS<span class="math inline">\(_I\)</span></a></li>
<li class="chapter" data-level="13.1.4" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSG"><i class="fa fa-check"></i><b>13.1.4</b> General oETS model, oETS<span class="math inline">\(_G\)</span></a></li>
<li class="chapter" data-level="13.1.5" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSD"><i class="fa fa-check"></i><b>13.1.5</b> Direct probability model, oETS<span class="math inline">\(_D\)</span></a></li>
<li class="chapter" data-level="13.1.6" data-path="ADAMOccurrence.html"><a href="ADAMOccurrence.html#oETSModelSelection"><i class="fa fa-check"></i><b>13.1.6</b> Model selection in oETS</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ADAMDemandSizes.html"><a href="ADAMDemandSizes.html"><i class="fa fa-check"></i><b>13.2</b> Demand sizes part of the model</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="ADAMDemandSizes.html"><a href="ADAMDemandSizes.html#additive-vs-multiplicative-ets-for-demand-sizes"><i class="fa fa-check"></i><b>13.2.1</b> Additive vs multiplicative ETS for demand sizes</a></li>
<li class="chapter" data-level="13.2.2" data-path="ADAMDemandSizes.html"><a href="ADAMDemandSizes.html#using-arima-for-demand-sizes"><i class="fa fa-check"></i><b>13.2.2</b> Using ARIMA for demand sizes</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="ADAMIntermittentFull.html"><a href="ADAMIntermittentFull.html"><i class="fa fa-check"></i><b>13.3</b> The full ADAM</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="ADAMIntermittentFull.html"><a href="ADAMIntermittentFull.html#iETSMLE"><i class="fa fa-check"></i><b>13.3.1</b> Maximum Likelihood Estimation</a></li>
<li class="chapter" data-level="13.3.2" data-path="ADAMIntermittentFull.html"><a href="ADAMIntermittentFull.html#conditional-expectation-and-variance"><i class="fa fa-check"></i><b>13.3.2</b> Conditional expectation and variance</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="IntermittentExample.html"><a href="IntermittentExample.html"><i class="fa fa-check"></i><b>13.4</b> Examples of application</a></li>
<li class="chapter" data-level="13.5" data-path="intermittent-demand-challenges.html"><a href="intermittent-demand-challenges.html"><i class="fa fa-check"></i><b>13.5</b> Intermittent demand challenges</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="diagnostics.html"><a href="diagnostics.html"><i class="fa fa-check"></i><b>14</b> Model diagnostics</a>
<ul>
<li class="chapter" data-level="14.1" data-path="diagnosticsOmitted.html"><a href="diagnosticsOmitted.html"><i class="fa fa-check"></i><b>14.1</b> Model specification: Omitted variables</a></li>
<li class="chapter" data-level="14.2" data-path="diagnosticsRedundant.html"><a href="diagnosticsRedundant.html"><i class="fa fa-check"></i><b>14.2</b> Model specification: Redundant variables</a></li>
<li class="chapter" data-level="14.3" data-path="diagnosticsTransformations.html"><a href="diagnosticsTransformations.html"><i class="fa fa-check"></i><b>14.3</b> Model specification: Transformations</a></li>
<li class="chapter" data-level="14.4" data-path="diagnosticsOutliers.html"><a href="diagnosticsOutliers.html"><i class="fa fa-check"></i><b>14.4</b> Model specification: Outliers</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="diagnosticsOutliers.html"><a href="diagnosticsOutliers.html#outliers-detection"><i class="fa fa-check"></i><b>14.4.1</b> Outliers detection</a></li>
<li class="chapter" data-level="14.4.2" data-path="diagnosticsOutliers.html"><a href="diagnosticsOutliers.html#dealing-with-outliers"><i class="fa fa-check"></i><b>14.4.2</b> Dealing with outliers</a></li>
<li class="chapter" data-level="14.4.3" data-path="diagnosticsOutliers.html"><a href="diagnosticsOutliers.html#an-automatic-mechanism"><i class="fa fa-check"></i><b>14.4.3</b> An automatic mechanism</a></li>
<li class="chapter" data-level="14.4.4" data-path="diagnosticsOutliers.html"><a href="diagnosticsOutliers.html#final-remarks"><i class="fa fa-check"></i><b>14.4.4</b> Final remarks</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="diagnosticsResidualsIIDAuto.html"><a href="diagnosticsResidualsIIDAuto.html"><i class="fa fa-check"></i><b>14.5</b> Residuals are i.i.d.: autocorrelation</a></li>
<li class="chapter" data-level="14.6" data-path="diagnosticsResidualsIIDHetero.html"><a href="diagnosticsResidualsIIDHetero.html"><i class="fa fa-check"></i><b>14.6</b> Residuals are i.i.d.: heteroscedasticity</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="diagnosticsResidualsIIDHetero.html"><a href="diagnosticsResidualsIIDHetero.html#detecting-heteroscedasticity"><i class="fa fa-check"></i><b>14.6.1</b> Detecting heteroscedasticity</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="diagnosticsResidualsIIDExpectation.html"><a href="diagnosticsResidualsIIDExpectation.html"><i class="fa fa-check"></i><b>14.7</b> Residuals are i.i.d.: zero expectation</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="diagnosticsResidualsIIDExpectation.html"><a href="diagnosticsResidualsIIDExpectation.html#diagnosticsResidualsIIDExpectationMultiple"><i class="fa fa-check"></i><b>14.7.1</b> Multistep forecast errors have zero mean</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="diagnosticsResidualsIIDDistribution.html"><a href="diagnosticsResidualsIIDDistribution.html"><i class="fa fa-check"></i><b>14.8</b> Residuals are i.i.d.: distributional assumptions</a></li>
<li class="chapter" data-level="14.9" data-path="diagnosticsMulticollinearity.html"><a href="diagnosticsMulticollinearity.html"><i class="fa fa-check"></i><b>14.9</b> Multicollinearity</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ADAMSelection.html"><a href="ADAMSelection.html"><i class="fa fa-check"></i><b>15</b> Model selection and combinations in ADAM</a>
<ul>
<li class="chapter" data-level="15.1" data-path="ETSSelection.html"><a href="ETSSelection.html"><i class="fa fa-check"></i><b>15.1</b> ADAM ETS components selection</a></li>
<li class="chapter" data-level="15.2" data-path="ARIMASelection.html"><a href="ARIMASelection.html"><i class="fa fa-check"></i><b>15.2</b> ADAM ARIMA order selection</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="ARIMASelection.html"><a href="ARIMASelection.html#ets-arima-restrictions"><i class="fa fa-check"></i><b>15.2.1</b> ETS + ARIMA restrictions</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="ETSXSelection.html"><a href="ETSXSelection.html"><i class="fa fa-check"></i><b>15.3</b> Explanatory variables selection</a></li>
<li class="chapter" data-level="15.4" data-path="ADAMCombinations.html"><a href="ADAMCombinations.html"><i class="fa fa-check"></i><b>15.4</b> Forecasts combinations in ADAM</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="ADAMCombinations.html"><a href="ADAMCombinations.html#other-combination-approaches"><i class="fa fa-check"></i><b>15.4.1</b> Other combination approaches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ADAMUncertainty.html"><a href="ADAMUncertainty.html"><i class="fa fa-check"></i><b>16</b> Handling uncertainty in ADAM</a>
<ul>
<li class="chapter" data-level="16.1" data-path="ADAMUncertaintyVCOV.html"><a href="ADAMUncertaintyVCOV.html"><i class="fa fa-check"></i><b>16.1</b> Covariance matrix of parameters</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="ADAMUncertaintyVCOV.html"><a href="ADAMUncertaintyVCOV.html#bootstrapped-covariance-matrix"><i class="fa fa-check"></i><b>16.1.1</b> Bootstrapped covariance matrix</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="confidence-intervals-for-parameters.html"><a href="confidence-intervals-for-parameters.html"><i class="fa fa-check"></i><b>16.2</b> Confidence intervals for parameters</a></li>
<li class="chapter" data-level="16.3" data-path="conditionalVarianceUncertainty.html"><a href="conditionalVarianceUncertainty.html"><i class="fa fa-check"></i><b>16.3</b> Conditional variance with uncertain parameters</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="conditionalVarianceUncertainty.html"><a href="conditionalVarianceUncertainty.html#estimated-initial-state"><i class="fa fa-check"></i><b>16.3.1</b> Estimated initial state</a></li>
<li class="chapter" data-level="16.3.2" data-path="conditionalVarianceUncertainty.html"><a href="conditionalVarianceUncertainty.html#estimated-parameters-of-adam"><i class="fa fa-check"></i><b>16.3.2</b> Estimated parameters of ADAM</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="adamRefitted.html"><a href="adamRefitted.html"><i class="fa fa-check"></i><b>16.4</b> Multi-scenarios for ADAM states</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="ADAMscaleModel.html"><a href="ADAMscaleModel.html"><i class="fa fa-check"></i><b>17</b> Scale model for ADAM</a>
<ul>
<li class="chapter" data-level="17.1" data-path="ADAMscaleModelFormulation.html"><a href="ADAMscaleModelFormulation.html"><i class="fa fa-check"></i><b>17.1</b> Model formulation</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="ADAMscaleModelFormulation.html"><a href="ADAMscaleModelFormulation.html#an-example-with-local-level-model-with-normal-distribution"><i class="fa fa-check"></i><b>17.1.1</b> An example with local level model with Normal distribution</a></li>
<li class="chapter" data-level="17.1.2" data-path="ADAMscaleModelFormulation.html"><a href="ADAMscaleModelFormulation.html#general-case-with-normal-distribution"><i class="fa fa-check"></i><b>17.1.2</b> General case with Normal distribution</a></li>
<li class="chapter" data-level="17.1.3" data-path="ADAMscaleModelFormulation.html"><a href="ADAMscaleModelFormulation.html#SMDistributions"><i class="fa fa-check"></i><b>17.1.3</b> Other distributions</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="ADAMscaleModelGARCH.html"><a href="ADAMscaleModelGARCH.html"><i class="fa fa-check"></i><b>17.2</b> Connection with ARCH and GARCH</a></li>
<li class="chapter" data-level="17.3" data-path="example-in-r-1.html"><a href="example-in-r-1.html"><i class="fa fa-check"></i><b>17.3</b> Example in R</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="example-in-r-1.html"><a href="example-in-r-1.html#example-1"><i class="fa fa-check"></i><b>17.3.1</b> Example 1</a></li>
<li class="chapter" data-level="17.3.2" data-path="example-in-r-1.html"><a href="example-in-r-1.html#example-2"><i class="fa fa-check"></i><b>17.3.2</b> Example 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ADAMForecasting.html"><a href="ADAMForecasting.html"><i class="fa fa-check"></i><b>18</b> Forecasting with ADAM</a>
<ul>
<li class="chapter" data-level="18.1" data-path="ADAMForecastingExpectation.html"><a href="ADAMForecastingExpectation.html"><i class="fa fa-check"></i><b>18.1</b> Conditional expectation</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="ADAMForecastingExpectation.html"><a href="ADAMForecastingExpectation.html#ADAMForecastingExpectationSimulations"><i class="fa fa-check"></i><b>18.1.1</b> Simulating demand trajectories</a></li>
<li class="chapter" data-level="18.1.2" data-path="ADAMForecastingExpectation.html"><a href="ADAMForecastingExpectation.html#explanatory-variables"><i class="fa fa-check"></i><b>18.1.2</b> Explanatory variables</a></li>
<li class="chapter" data-level="18.1.3" data-path="ADAMForecastingExpectation.html"><a href="ADAMForecastingExpectation.html#demonstration-in-r"><i class="fa fa-check"></i><b>18.1.3</b> Demonstration in R</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="ADAMForecastingVariance.html"><a href="ADAMForecastingVariance.html"><i class="fa fa-check"></i><b>18.2</b> Conditional variance and scale</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="ADAMForecastingVariance.html"><a href="ADAMForecastingVariance.html#scale-model"><i class="fa fa-check"></i><b>18.2.1</b> Scale model</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html"><i class="fa fa-check"></i><b>18.3</b> Prediction intervals</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#approximate-intervals"><i class="fa fa-check"></i><b>18.3.1</b> Approximate intervals</a></li>
<li class="chapter" data-level="18.3.2" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#ADAMForecastingPISimulations"><i class="fa fa-check"></i><b>18.3.2</b> Simulated intervals</a></li>
<li class="chapter" data-level="18.3.3" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#semiparametric-intervals"><i class="fa fa-check"></i><b>18.3.3</b> Semiparametric intervals</a></li>
<li class="chapter" data-level="18.3.4" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#nonparametric-intervals"><i class="fa fa-check"></i><b>18.3.4</b> Nonparametric intervals</a></li>
<li class="chapter" data-level="18.3.5" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#ADAMForecastingPIEmpirical"><i class="fa fa-check"></i><b>18.3.5</b> Empirical intervals</a></li>
<li class="chapter" data-level="18.3.6" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#complete-parametric-intervals"><i class="fa fa-check"></i><b>18.3.6</b> Complete parametric intervals</a></li>
<li class="chapter" data-level="18.3.7" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#explanatory-variables-1"><i class="fa fa-check"></i><b>18.3.7</b> Explanatory variables</a></li>
<li class="chapter" data-level="18.3.8" data-path="ADAMForecastingPI.html"><a href="ADAMForecastingPI.html#ADAMForecastingPIExample"><i class="fa fa-check"></i><b>18.3.8</b> Example in R</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="forecastingADAMOther.html"><a href="forecastingADAMOther.html"><i class="fa fa-check"></i><b>18.4</b> Other aspects of forecast uncertainty</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="forecastingADAMOther.html"><a href="forecastingADAMOther.html#constructing-intervals-for-intermittent-demand-model"><i class="fa fa-check"></i><b>18.4.1</b> Constructing intervals for intermittent demand model</a></li>
<li class="chapter" data-level="18.4.2" data-path="forecastingADAMOther.html"><a href="forecastingADAMOther.html#forecastingADAMOtherOneSided"><i class="fa fa-check"></i><b>18.4.2</b> One-sided prediction interval</a></li>
<li class="chapter" data-level="18.4.3" data-path="forecastingADAMOther.html"><a href="forecastingADAMOther.html#forecastingADAMOtherCumulative"><i class="fa fa-check"></i><b>18.4.3</b> Cumulative over the horizon forecast</a></li>
<li class="chapter" data-level="18.4.4" data-path="forecastingADAMOther.html"><a href="forecastingADAMOther.html#forecastingADAMOtherExample"><i class="fa fa-check"></i><b>18.4.4</b> Example in R</a></li>
<li class="chapter" data-level="18.4.5" data-path="forecastingADAMOther.html"><a href="forecastingADAMOther.html#confidence-interval"><i class="fa fa-check"></i><b>18.4.5</b> Confidence interval</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="cheatSheet.html"><a href="cheatSheet.html"><i class="fa fa-check"></i><b>19</b> adam() cheat sheet for R</a></li>
<li class="chapter" data-level="20" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>20</b> What’s next?</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Forecasting and Analytics with ADAM</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ADAMOccurrence" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> Occurrence part of the model<a href="ADAMOccurrence.html#ADAMOccurrence" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The general model <a href="ADAMIntermittent.html#eq:IntermittentDemandModel">(13.1)</a> assumes that demand occurs randomly and that the variable <span class="math inline">\(o_t\)</span> can be either zero (no demand) or one (there is some demand). While this process can be modelled using different distributions, <span class="citation">Svetunkov and Boylan (<a href="#ref-Svetunkov2019a" role="doc-biblioref">2019</a>)</span> proposed using Bernoulli with a time varying probability (in the most general case):
<span class="math display" id="eq:OccurrenceModelBernoulli">\[\begin{equation}
o_t \sim \text{Bernoulli} \left(p_t \right) ,
\tag{13.2}
\end{equation}\]</span>
where <span class="math inline">\(p_t\)</span> is the probability of occurrence. The higher it is, the more frequently the demand will happen. If <span class="math inline">\(p_t=1\)</span>, then the demand becomes continuous, while with <span class="math inline">\(p_t=0\)</span>, nobody buys the product at all. This section will discuss different types of models for this probability. For each of them, there are different mechanisms of the model construction, estimation, error calculation, update of the states and the generation of forecasts. To estimate any of these models using likelihood, we need to know the Probability Mass Function (PMF), which for Bernoulli distribution is:
<span class="math display" id="eq:BernoulliPMF">\[\begin{equation}
f_o(o_t, p_t) = p_t^{o_t}(1-p_t)^{1-o_t}.
\tag{13.3}
\end{equation}\]</span>
The parameters of the occurrence part of the model can be then estimated via the maximisation of the log-likelihood function, which comes directly from <a href="ADAMOccurrence.html#eq:BernoulliPMF">(13.3)</a>, and in the most general case is:
<span class="math display" id="eq:oETSLikelihood">\[\begin{equation}
\ell \left(\boldsymbol{\theta}_o | o_t \right) = \sum_{o_t=1} \log(\hat{p}_t) + \sum_{o_t=0} \log(1-\hat{p}_t) ,
\tag{13.4}
\end{equation}\]</span>
where <span class="math inline">\(\hat{p}_t\)</span> is the in-sample conditional one step ahead expectation of the probability on observation <span class="math inline">\(t\)</span>, given the information on observation <span class="math inline">\(t-1\)</span>, which depends on the vector of estimated parameters for the occurrence part of the model <span class="math inline">\(\boldsymbol{\theta}_o\)</span>.</p>
<p>In order to demonstrate the difference between specific types of oETS models, we will use the following artificial data:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="ADAMOccurrence.html#cb203-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="fu">c</span>(<span class="fu">rpois</span>(<span class="dv">20</span>,<span class="fl">0.25</span>), <span class="fu">rpois</span>(<span class="dv">20</span>,<span class="fl">0.5</span>), <span class="fu">rpois</span>(<span class="dv">20</span>,<span class="dv">1</span>),</span>
<span id="cb203-2"><a href="ADAMOccurrence.html#cb203-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">rpois</span>(<span class="dv">20</span>,<span class="dv">2</span>), <span class="fu">rpois</span>(<span class="dv">20</span>,<span class="dv">3</span>), <span class="fu">rpois</span>(<span class="dv">20</span>,<span class="dv">5</span>)))</span></code></pre></div>
<p>Figure <a href="ADAMOccurrence.html#fig:intermittentExamplePlot">13.1</a> shows how the data looks like:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="ADAMOccurrence.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:intermittentExamplePlot"></span>
<img src="Svetunkov--2022----ADAM_files/figure-html/intermittentExamplePlot-1.png" alt="Example of intermittent demand data." width="672" />
<p class="caption">
Figure 13.1: Example of intermittent demand data.
</p>
</div>
<p>The probability of occurrence in this example increases together with the demand sizes. This example corresponds to the situation of intermittent demand for a product becoming regular.</p>
<div id="fixed-probability-model-oets_f" class="section level3 hasAnchor" number="13.1.1">
<h3><span class="header-section-number">13.1.1</span> Fixed probability model, oETS<span class="math inline">\(_F\)</span><a href="ADAMOccurrence.html#fixed-probability-model-oets_f" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We start with the simplest case of fixed probability of occurrence, oETS<span class="math inline">\(_F\)</span> model:
<span class="math display" id="eq:oETSFixed">\[\begin{equation}
o_t \sim \text{Bernoulli}(p) ,
\tag{13.5}
\end{equation}\]</span>
This model assumes that demand happens with the same probability no matter what. This might sound exotic because, in practice, there might be many factors influencing customers’ desire to purchase, and the impact of these factors might change over time. But this is a basic model, which can be used as a benchmark on intermittent demand data. Furthermore, it might be suitable for modelling demand on expensive high-tech products, such as jet engines, which is “very slow” in its nature and typically does not evolve much over time.</p>
<p>When estimated via maximisation of likelihood function <a href="ADAMOccurrence.html#eq:oETSLikelihood">(13.4)</a>, the probability of occurrence is equal to:
<span class="math display" id="eq:oETSFixedProbabilityMLE">\[\begin{equation}
\hat{p} = \frac{T_1}{T},
\tag{13.6}
\end{equation}\]</span>
where <span class="math inline">\(T_1\)</span> is the number of non-zero observations and <span class="math inline">\(T\)</span> is the number of all the available observations in sample.</p>
<p>The occurrence part of the model, oETS<span class="math inline">\(_F\)</span> can be constructed using <code>oes()</code> function from <code>smooth</code> package:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="ADAMOccurrence.html#cb205-1" aria-hidden="true" tabindex="-1"></a>oETSFModel <span class="ot">&lt;-</span> <span class="fu">oes</span>(y, <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>,</span>
<span id="cb205-2"><a href="ADAMOccurrence.html#cb205-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">occurrence=</span><span class="st">&quot;fixed&quot;</span>)</span>
<span id="cb205-3"><a href="ADAMOccurrence.html#cb205-3" aria-hidden="true" tabindex="-1"></a>oETSFModel</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: Fixed probability
## Underlying ETS model: oETS[F](MNN)
## Vector of initials:
##  level 
## 0.6455 
## 
## Error standard deviation: 1.0909
## Sample size: 110
## Number of estimated parameters: 1
## Number of degrees of freedom: 109
## Information criteria: 
##      AIC     AICc      BIC     BICc 
## 145.0473 145.0844 147.7478 147.8349</code></pre>
<p>The oETS<span class="math inline">\(_F\)</span> model produces the straight line for the probability of 0.65, ignoring that in our example, the probability of occurrence has increased over time.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="ADAMOccurrence.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(oETSFModel)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:oETSFModel"></span>
<img src="Svetunkov--2022----ADAM_files/figure-html/oETSFModel-1.png" alt="Demand occurrence and probability of occurrence in the oETS$_F$ model." width="672" />
<p class="caption">
Figure 13.2: Demand occurrence and probability of occurrence in the oETS<span class="math inline">\(_F\)</span> model.
</p>
</div>
<p>The plot in Figure <a href="ADAMOccurrence.html#fig:oETSFModel">13.2</a> above demonstrates the dynamics of the occurrence variable <span class="math inline">\(o_t\)</span> and the fitted and predicted probabilities. The solid line shows when zeroes and ones happen, depicting the variable <span class="math inline">\(o_t\)</span>. The dashed line corresponds to the fixed probability of occurrence <span class="math inline">\(\hat{p}\)</span> in the sample.</p>
</div>
<div id="oETSO" class="section level3 hasAnchor" number="13.1.2">
<h3><span class="header-section-number">13.1.2</span> Odds ratio model, oETS<span class="math inline">\(_O\)</span><a href="ADAMOccurrence.html#oETSO" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this model, it is assumed that the update of the probability is driven by the occurrence of variable. It is more complicated than the previous as the probability now changes over time and can be modelled, for example, with ETS(M,N,N) model:
<span class="math display" id="eq:oETSOddsMNN">\[\begin{equation}
\begin{aligned}
&amp; o_t \sim \text{Bernoulli} \left(p_t \right) \\
&amp; p_t = \frac{\mu_{a,t}}{\mu_{a,t}+1} \\
&amp; a_t = l_{a,t-1} \left(1 + \epsilon_{a,t} \right) \\
&amp; l_{a,t} = l_{a,t-1}( 1  + \alpha_{a} \epsilon_{a,t}) \\
&amp; \mu_{a,t} = l_{a,t-1}
\end{aligned},
\tag{13.7}
\end{equation}\]</span>
where <span class="math inline">\(l_{a,t}\)</span> is the unobserved level component, <span class="math inline">\(\alpha_{a}\)</span> is the smoothing parameter, <span class="math inline">\(1+\epsilon_{a,t}\)</span> is the error term , which is positive, has mean of one and follows an unknown distribution, and <span class="math inline">\(\mu_{a,t}\)</span>is the conditional expectation for the unobservable shape variable <span class="math inline">\(a_t\)</span>. The measurement and transition equations in <a href="ADAMOccurrence.html#eq:oETSOddsMNN">(13.7)</a> can be substituted by any other ADAM ETS or ARIMA model if it is reasonable to assume that the probability dynamics has some additional components, such as trend, seasonality or exogenous variables. This model is called the “odds ratio” because the probability of occurrence in <a href="ADAMOccurrence.html#eq:oETSOddsMNN">(13.7)</a> is calculated using the classical logistic transform. This also means that <span class="math inline">\(\mu_{a,t}\)</span> is equal to:
<span class="math display">\[\begin{equation} \label{eq:oETS_O_oddsRatio}
\mu_{a,t} = \frac{p_t}{1 -p_t} .
\end{equation}\]</span>
When <span class="math inline">\(\mu_{a,t}\)</span> increases in the oETS model, the odds ratio increases as well, meaning that the probability of occurrence goes up. <span class="citation">Svetunkov and Boylan (<a href="#ref-Svetunkov2019a" role="doc-biblioref">2019</a>)</span> explain that this model is, in theory, appropriate for the demand for products becoming obsolescent. Still, given the updating mechanism, it should also work fine on other types of intermittent data.</p>
<p>When it comes to the application of the model to the data, its construction is done via the following set of equations (example with oETS<span class="math inline">\(_O\)</span>(M,N,N)):
<span class="math display" id="eq:oETSOddsMNNEstimated">\[\begin{equation}
\begin{aligned}
&amp; \hat{p}_t = \frac{\hat{\mu}_{a,t}}{\hat{\mu}_{a,t}+1} \\
&amp; \hat{\mu}_{a,t} = \hat{l}_{a,t-1} \\
&amp; \hat{l}_{a,t} = \hat{l}_{a,t-1}( 1  + \hat{\alpha}_{a} e_{a,t}) \\
&amp; 1+e_{a,t} = \frac{u_t}{1-u_t} \\
&amp; u_{t} = \frac{1 + o_t -\hat{p}_t}{2}
\end{aligned},
\tag{13.8}
\end{equation}\]</span>
where <span class="math inline">\(e_{a,t}\)</span> is the proxy for the unobservable error term <span class="math inline">\(\epsilon_{a,t}\)</span> and <span class="math inline">\(\hat{\mu}_t\)</span> is the estimate of <span class="math inline">\(\mu_{a,t}\)</span>. If a multiple steps ahead forecast for the probability is needed from this model, then the formulae discussed in Section <a href="ETSTaxonomyMaths.html#ETSTaxonomyMaths">4.2</a> can be used to get <span class="math inline">\(\hat{\mu}_{a,t}\)</span>, which then can be inserted in the first equation of <a href="ADAMOccurrence.html#eq:oETSOddsMNNEstimated">(13.8)</a> to get the final conditional multiple steps ahead probability of occurrence.</p>
<p>Finally, to estimate the parameters of the model <a href="ADAMOccurrence.html#eq:oETSOddsMNNEstimated">(13.8)</a>, the likelihood <a href="ADAMOccurrence.html#eq:oETSLikelihood">(13.4)</a> can be used.</p>
<p>The occurrence part of the model oETS<span class="math inline">\(_O\)</span> is constructed using the very same <code>oes()</code> function, but also allows specifying the ETS model to use. For example, here is the oETS<span class="math inline">\(_O\)</span>(M,M,N) model:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="ADAMOccurrence.html#cb208-1" aria-hidden="true" tabindex="-1"></a>oETSOModel <span class="ot">&lt;-</span> <span class="fu">oes</span>(y, <span class="at">model=</span><span class="st">&quot;MMN&quot;</span>, <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>,</span>
<span id="cb208-2"><a href="ADAMOccurrence.html#cb208-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">occurrence=</span><span class="st">&quot;odds-ratio&quot;</span>)</span>
<span id="cb208-3"><a href="ADAMOccurrence.html#cb208-3" aria-hidden="true" tabindex="-1"></a>oETSOModel</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: Odds ratio
## Underlying ETS model: oETS[O](MMN)
## Smoothing parameters:
##  level  trend 
## 0.0209 0.0000 
## Vector of initials:
##  level  trend 
## 0.0986 1.0448 
## 
## Error standard deviation: 2.0989
## Sample size: 110
## Number of estimated parameters: 4
## Number of degrees of freedom: 106
## Information criteria: 
##      AIC     AICc      BIC     BICc 
## 103.5230 103.9040 114.3250 115.2203</code></pre>
<p>In this example, we introduce the multiplicative trend in the model, which is supposed to reflect the idea of demand building up over time.</p>
<div class="figure"><span style="display:block;" id="fig:oETSOModel"></span>
<img src="Svetunkov--2022----ADAM_files/figure-html/oETSOModel-1.png" alt="Demand occurrence and probability of occurrence in the oETS(M,M,N)$_O$ model." width="672" />
<p class="caption">
Figure 13.3: Demand occurrence and probability of occurrence in the oETS(M,M,N)<span class="math inline">\(_O\)</span> model.
</p>
</div>
<p>Figure <a href="ADAMOccurrence.html#fig:oETSOModel">13.3</a> shows that the model captures the changing probability of occurrence well, reflecting that it increases over time.</p>
</div>
<div id="oETSI" class="section level3 hasAnchor" number="13.1.3">
<h3><span class="header-section-number">13.1.3</span> Inverse odds ratio model, oETS<span class="math inline">\(_I\)</span><a href="ADAMOccurrence.html#oETSI" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Using similar approach to the oETS<span class="math inline">\(_O\)</span> model, we can formulate the “inverse odds ration” model oETS<span class="math inline">\(_I\)</span>(M,N,N):
<span class="math display" id="eq:oETSInverseOddsMNN">\[\begin{equation}
\begin{aligned}
&amp; o_t \sim \text{Bernoulli} \left(p_t \right) \\
&amp; p_t = \frac{1}{1+\mu_{b,t}} \\
&amp; b_t = l_{b,t-1} \left(1 + \epsilon_{b,t} \right) \\
&amp; l_{b,t} = l_{b,t-1}( 1  + \alpha_{b} \epsilon_{b,t}) \\
&amp; \mu_{b,t} = l_{b,t-1}
\end{aligned},
\tag{13.9}
\end{equation}\]</span>
where similarly to <a href="ADAMOccurrence.html#eq:oETSOddsMNNEstimated">(13.8)</a>, <span class="math inline">\(l_{b,t}\)</span> is the unobserved level component, <span class="math inline">\(\alpha_{b}\)</span> is the smoothing parameter, <span class="math inline">\(1+\epsilon_{b,t}\)</span> is the positive error term with mean of one, and <span class="math inline">\(\mu_{b,t}\)</span> is the one step ahead conditional expectation for the unobservable shape parameters <span class="math inline">\(b_t\)</span>. The main difference of this model with the previous one is in the different mechanism of probability calculation, which focuses on the probability of “inoccurrence”, i.e. on zeroes of data rather than on ones. This type of model should be more appropriate for cases of demand building up <span class="citation">(<a href="#ref-Svetunkov2019a" role="doc-biblioref">Svetunkov and Boylan, 2019</a>)</span>. The probability calculation mechanism in <a href="ADAMOccurrence.html#eq:oETSInverseOddsMNN">(13.9)</a> implies that <span class="math inline">\(\mu_{b,t}\)</span> can be expressed as:
<span class="math display">\[\begin{equation}
\mu_{b,t} = \frac{1-p_t}{p_t} .
\end{equation}\]</span></p>
<p>The construction of the model <a href="ADAMOccurrence.html#eq:oETSInverseOddsMNN">(13.9)</a> is similar to <a href="ADAMOccurrence.html#eq:oETSOddsMNNEstimated">(13.8)</a>:
<span class="math display" id="eq:oETSInverseOddsMNNEstimated">\[\begin{equation}
\begin{aligned}
&amp; \hat{p}_t = \frac{1}{1+\hat{\mu}_{b,t}} \\
&amp; \hat{\mu}_{b,t} = \hat{l}_{b,t-1} \\
&amp; \hat{l}_{b,t} = l_{b,t-1}( 1  + \hat{\alpha}_{b} e_{b,t}) \\
&amp; 1+e_{b,t} = \frac{1-u_t}{u_t} \\
&amp; u_{t} = \frac{1 + o_t -\hat{p}_t}{2}
\end{aligned},
\tag{13.10}
\end{equation}\]</span>
where <span class="math inline">\(e_{b,t}\)</span> is the proxy for the unobservable error term <span class="math inline">\(\epsilon_{b,t}\)</span> and <span class="math inline">\(\hat{\mu}_{b,t}\)</span> is the estimate of <span class="math inline">\(\mu_{b,t}\)</span>. Once again, we refer an interested reader to Subsection <a href="ETSTaxonomyMaths.html#ETSTaxonomyMaths">4.2</a> for the discussion of the multiple steps ahead conditional expectations from the ETS(M,N,N) model.</p>
<p><span class="citation">Svetunkov and Boylan (<a href="#ref-Svetunkov2019a" role="doc-biblioref">2019</a>)</span> show that the oETS<span class="math inline">\(_I\)</span>(M,N,N) model, in addition to <a href="ADAMOccurrence.html#eq:oETSInverseOddsMNNEstimated">(13.10)</a>, can be estimated using Croston’s method, as long as we can assume that the probability does not change over time substantially. In this case the demand intervals (the number of zeroes between demand sizes) can be used instead of <span class="math inline">\(\hat{\mu}_{b,t}\)</span> in <a href="ADAMOccurrence.html#eq:oETSInverseOddsMNNEstimated">(13.10)</a>. So the iETS(M,N,N)<span class="math inline">\(_I\)</span>(M,N,N) can be considered as a model underlying Croston’s method.</p>
<p>The function <code>oes()</code> implements the oETS<span class="math inline">\(_I\)</span> model as well. For example, here is the oETS<span class="math inline">\(_I\)</span>(M,M,N) model:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="ADAMOccurrence.html#cb210-1" aria-hidden="true" tabindex="-1"></a>oETSIModel <span class="ot">&lt;-</span> <span class="fu">oes</span>(y, <span class="at">model=</span><span class="st">&quot;MMN&quot;</span>, <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>,</span>
<span id="cb210-2"><a href="ADAMOccurrence.html#cb210-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">occurrence=</span><span class="st">&quot;inverse-odds-ratio&quot;</span>)</span>
<span id="cb210-3"><a href="ADAMOccurrence.html#cb210-3" aria-hidden="true" tabindex="-1"></a>oETSIModel</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: Inverse odds ratio
## Underlying ETS model: oETS[I](MMN)
## Smoothing parameters:
##  level  trend 
## 0.0419 0.0000 
## Vector of initials:
##   level   trend 
## 25.2308  0.8982 
## 
## Error standard deviation: 4.1508
## Sample size: 110
## Number of estimated parameters: 4
## Number of degrees of freedom: 106
## Information criteria: 
##      AIC     AICc      BIC     BICc 
## 105.3722 105.7531 116.1741 117.0694</code></pre>
<div class="figure"><span style="display:block;" id="fig:oETSIModel"></span>
<img src="Svetunkov--2022----ADAM_files/figure-html/oETSIModel-1.png" alt="Demand occurrence and probability of occurrence in the oETS(M,M,N)$_I$ model." width="672" />
<p class="caption">
Figure 13.4: Demand occurrence and probability of occurrence in the oETS(M,M,N)<span class="math inline">\(_I\)</span> model.
</p>
</div>
<p>Figure <a href="ADAMOccurrence.html#fig:oETSIModel">13.4</a> shows that similarly to the oETS<span class="math inline">\(_O\)</span>, the model captures the trend in the probability of occurrence but has a higher smoothing parameter <span class="math inline">\(\alpha_b\)</span>.</p>
</div>
<div id="oETSG" class="section level3 hasAnchor" number="13.1.4">
<h3><span class="header-section-number">13.1.4</span> General oETS model, oETS<span class="math inline">\(_G\)</span><a href="ADAMOccurrence.html#oETSG" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uniting the models oETS<span class="math inline">\(_O\)</span> with oETS<span class="math inline">\(_I\)</span>, we can obtain the “general” model, which in the most general case can be summarised in the following set of state space equations:
<span class="math display" id="eq:oETSG">\[\begin{equation}
\begin{aligned}
&amp; p_t = f_p(\mu_{a,t}, \mu_{b,t}) \\
&amp; a_t = w_a(\mathbf{v}_{a,t-\mathbf{l}}) + r_a(\mathbf{v}_{a,t-\mathbf{l}}) \epsilon_{a,t} \\
&amp; \mathbf{v}_{a,t} = f_a(\mathbf{v}_{a,t-\mathbf{l}}) + g_a(\mathbf{v}_{a,t-\mathbf{l}}) \epsilon_{a,t} \\
&amp; b_t = w_b(\mathbf{v}_{b,t-\mathbf{l}}) + r_b(\mathbf{v}_{b,t-\mathbf{l}}) \epsilon_{b,t} \\
&amp; \mathbf{v}_{b,t} = f_b(\mathbf{v}_{b,t-\mathbf{l}}) + g_b(\mathbf{v}_{b,t-\mathbf{l}}) \epsilon_{b,t}
\end{aligned} ,
\tag{13.11}
\end{equation}\]</span>
where <span class="math inline">\(\epsilon_{a,t}\)</span>, <span class="math inline">\(\epsilon_{b,t}\)</span>, <span class="math inline">\(\mu_{a,t}\)</span> and <span class="math inline">\(\mu_{b,t}\)</span> have been defined in previous subsectionsa and the other elements correspond to the ADAM discussed in Section <a href="ADAMETSIntroduction.html#ADAMETSIntroduction">5</a>. Note that in this case two ETS models similar to the one discussed in Section <a href="ADAMETSIntroduction.html#ADAMETSIntroduction">5</a> are used for modelling of <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span>.</p>
<p>The general formula for the probability in case of the multiplicative error model is:
<span class="math display" id="eq:oETSMZZ">\[\begin{equation}
p_t = \frac{\mu_{a,t}}{\mu_{a,t}+\mu_{b,t}} ,
\tag{13.12}
\end{equation}\]</span>
while for the additive one, it is:
<span class="math display" id="eq:oETSAZZ">\[\begin{equation}
p_t = \frac{\exp(\mu_{a,t})}{\exp(\mu_{a,t})+\exp(\mu_{b,t})} .
\tag{13.13}
\end{equation}\]</span>
This is because both <span class="math inline">\(\mu_{a,t}\)</span> and <span class="math inline">\(\mu_{b,t}\)</span> need to be strictly positive, while the additive error models support the real plane. The canonical oETS model assumes that the pure multiplicative model is used for <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span>. This model type is positively defined for any values of error, trend and seasonality, which is essential for the values of <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span> and their expectations. If a combination of additive and multiplicative error models is used, then the additive part should be exponentiated before using the formulae to calculate the probability. So, <span class="math inline">\(f_p(\cdot)\)</span> function from <a href="ADAMOccurrence.html#eq:oETSG">(13.11)</a> maps the expectations from models A and B to the probability of occurrence, depending on the error type of the respective models:
<span class="math display" id="eq:probabilityFunction">\[\begin{equation}
p_t = f_p(\mu_{a,t}, \mu_{b,t}) = \left \lbrace
\begin{aligned}
&amp; \frac{\mu_{a,t}}{\mu_{a,t} + \mu_{b,t}} &amp; \text{ when both have multiplicative errors} \\
&amp; \frac{\mu_{a,t}}{\mu_{a,t} + \exp(\mu_{b,t})} &amp; \text{ when model B has additive error} \\
&amp; \frac{\exp(\mu_{a,t})}{\exp(\mu_{a,t}) + \mu_{b,t}} &amp; \text{ when model A has additive error} \\
&amp; \frac{\exp(\mu_{a,t})}{\exp(\mu_{a,t}) + \exp(\mu_{b,t})} &amp; \text{ when both have additive errors}
\end{aligned} .
\right.
\tag{13.14}
\end{equation}\]</span></p>
<p>An example of the oETS model is the one based on two local level models (see discussion in Subsection <a href="SES.html#SES">3.4</a>), oETS<span class="math inline">\(_G\)</span>(M,N,N)(M,N,N):
<span class="math display" id="eq:oETSGExample">\[\begin{equation}
\begin{aligned}
&amp; o_t \sim \text{Bernoulli} \left(p_t \right) \\
&amp; p_t = \frac{\mu_{a,t}}{\mu_{a,t}+\mu_{b,t}} \\
\\
&amp; a_t = l_{a,t-1} \left(1 + \epsilon_{a,t} \right) \\
&amp; l_{a,t} = l_{a,t-1}( 1  + \alpha_{a} \epsilon_{a,t}) \\
&amp; \mu_{a,t} = l_{a,t-1} \\
\\
&amp; b_t = l_{b,t-1} \left(1 + \epsilon_{b,t} \right) \\
&amp; l_{b,t} = l_{b,t-1}( 1  + \alpha_{b} \epsilon_{b,t}) \\
&amp; \mu_{b,t} = l_{b,t-1} \\
\end{aligned},
\tag{13.15}
\end{equation}\]</span>
where all the parameters have already been defined in subsections <a href="ADAMOccurrence.html#oETSO">13.1.2</a> and <a href="ADAMOccurrence.html#oETSI">13.1.3</a>. More advanced models can be constructing for <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span> by specifying the ETS models for each part and / or adding explanatory variables.</p>
<p>The construction of the model <a href="ADAMOccurrence.html#eq:oETSGExample">(13.15)</a> is done via the following set of equations:
<span class="math display" id="eq:oETSGExampleEstimated">\[\begin{equation}
\begin{aligned}
&amp; e_{a,t} = \frac{u_t}{1-u_t} -1 \\
&amp; \hat{a}_t = \hat{l}_{a,t-1} \\
&amp; \hat{l}_{a,t} = \hat{l}_{a,t-1}( 1  + \alpha_{a} e_{a,t}) \\
&amp; e_{b,t} = \frac{1-u_t}{u_t} -1 \\
&amp; \hat{b}_t = \hat{l}_{b,t-1} \\
&amp; \hat{l}_{b,t} = \hat{l}_{b,t-1}( 1  + \alpha_{b} e_{b,t})
\end{aligned} .
\tag{13.16}
\end{equation}\]</span>
<!-- The initialisation of the parameters of the oETS$_G$ model is done separately for the variables $a_t$ and $b_t$, based on the principles, described above for the oETS$_O$ and oETS$_I$. --></p>
<p>In R, there is a separate function for the oETS<span class="math inline">\(_G\)</span> model, called <code>oesg()</code>. It has twice more parameters than <code>oes()</code>, because it allows fine tuning of the models for the both variables <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span>. This gives an additional flexibility. For example, here is how we can use ETS(M,N,N) for the <span class="math inline">\(a_t\)</span> and ETS(A,A,N) for the <span class="math inline">\(b_t\)</span>, resulting in oETS<span class="math inline">\(_G\)</span>(M,N,N)(A,A,N):</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="ADAMOccurrence.html#cb212-1" aria-hidden="true" tabindex="-1"></a>oETSGModel <span class="ot">&lt;-</span> <span class="fu">oesg</span>(y, <span class="at">modelA=</span><span class="st">&quot;MNN&quot;</span>, <span class="at">modelB=</span><span class="st">&quot;AAN&quot;</span>,</span>
<span id="cb212-2"><a href="ADAMOccurrence.html#cb212-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>)</span>
<span id="cb212-3"><a href="ADAMOccurrence.html#cb212-3" aria-hidden="true" tabindex="-1"></a>oETSGModel</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: General
## Underlying ETS model: oETS[G](MNN)(AAN)
## 
## Sample size: 110
## Number of estimated parameters: 6
## Number of degrees of freedom: 104
## Information criteria: 
##      AIC     AICc      BIC     BICc 
## 107.1447 107.9603 123.3476 125.2643</code></pre>
<div class="figure"><span style="display:block;" id="fig:oETSGModel"></span>
<img src="Svetunkov--2022----ADAM_files/figure-html/oETSGModel-1.png" alt="Demand occurrence and probability of occurrence in the oETS(M,N,N)(A,A,N)$_G$ model." width="672" />
<p class="caption">
Figure 13.5: Demand occurrence and probability of occurrence in the oETS(M,N,N)(A,A,N)<span class="math inline">\(_G\)</span> model.
</p>
</div>
<p>We can also analyse models separately for <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span> from the saved variable. Here is, for example, model A:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="ADAMOccurrence.html#cb214-1" aria-hidden="true" tabindex="-1"></a>oETSGModel<span class="sc">$</span>modelA</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: Odds ratio
## Underlying ETS model: oETS[G](MNN)_A
## Smoothing parameters:
##  level 
## 0.0118 
## Vector of initials:
##  level 
## 1.2764 
## 
## Error standard deviation: 1.8449
## Sample size: 110
## Number of estimated parameters: 2
## Number of degrees of freedom: 108
## Information criteria: 
##      AIC     AICc      BIC     BICc 
##  99.1447  99.2569 104.5457 104.8093</code></pre>
<p>The experiments that I have done so far show that oETS<span class="math inline">\(_G\)</span> very seldom brings improvements in comparison with oETS<span class="math inline">\(_O\)</span> or oETS<span class="math inline">\(_I\)</span> in terms of forecasting accuracy. Besides, selecting models for each of the parts is a challenging task. So, this model is theoretically attractive, being more general than the other oETS models, but is not very practical. Still it is useful because we can introduce different oETS models by restricting <span class="math inline">\(a_t\)</span> and <span class="math inline">\(b_t\)</span>. For example, we can get:</p>
<ol style="list-style-type: decimal">
<li>oETS<span class="math inline">\(_F\)</span>, when <span class="math inline">\(\mu_{a,t} = \text{const}\)</span>, <span class="math inline">\(\mu_{b,t} = \text{const}\)</span> for all <span class="math inline">\(t\)</span>;</li>
<li>oETS<span class="math inline">\(_O\)</span>, when <span class="math inline">\(\mu_{b,t} = 1\)</span> for all <span class="math inline">\(t\)</span>;</li>
<li>oETS<span class="math inline">\(_I\)</span>, when <span class="math inline">\(\mu_{a,t} = 1\)</span> for all <span class="math inline">\(t\)</span>;</li>
<li>oETS<span class="math inline">\(_D\)</span>, when <span class="math inline">\(\mu_{a,t} + \mu_{b,t} = 1\)</span>, <span class="math inline">\(\mu_{a,t} \in [0,1]\)</span> for all <span class="math inline">\(t\)</span> (discussed in the Subsection <a href="ADAMOccurrence.html#oETSD">13.1.5</a>);</li>
<li>oETS<span class="math inline">\(_G\)</span>, when there are no restrictions.</li>
</ol>
</div>
<div id="oETSD" class="section level3 hasAnchor" number="13.1.5">
<h3><span class="header-section-number">13.1.5</span> Direct probability model, oETS<span class="math inline">\(_D\)</span><a href="ADAMOccurrence.html#oETSD" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The last model in the family of oETS is the “Direct probability”. It appears, when the following restriction is imposed on the oETS<span class="math inline">\(_G\)</span>:
<span class="math display" id="eq:oETSGRestriction">\[\begin{equation}
\mu_{a,t} + \mu_{b,t} = 1, \mu_{a,t} \in [0, 1] .
\tag{13.17}
\end{equation}\]</span>
This restriction is inspired by the mechanism for the probability update proposed by <span class="citation">Teunter et al. (<a href="#ref-Teunter2011" role="doc-biblioref">2011</a>)</span> (TSB method). Their paper uses SES (discussed in Section <a href="SES.html#SES">3.4</a>) to model the time-varying probability of occurrence. Based on this idea and the restriction <a href="ADAMOccurrence.html#eq:oETSGRestriction">(13.17)</a>, we can formulate oETS<span class="math inline">\(_D\)</span>(M,N,N) model, which will underly the occurrence part of the TSB method:
<span class="math display" id="eq:oETSD">\[\begin{equation}
\begin{aligned}
&amp; o_t \sim \text{Bernoulli} \left(\mu_{a,t} \right) \\
&amp; a_t = l_{a,t-1} \left(1 + \epsilon_{a,t} \right) \\
&amp; l_{a,t} = l_{a,t-1}( 1  + \alpha_{a} \epsilon_{a,t}) \\
&amp; \mu_{a,t} = \min(l_{a,t-1}, 1)
\end{aligned}.
\tag{13.18}
\end{equation}\]</span>
There is also an option with the additive error for the occurrence part (also underlying TSB), which has a different, more complicated form:
<span class="math display" id="eq:oETSDAdditive">\[\begin{equation}
\begin{aligned}
&amp; o_t \sim \text{Bernoulli} \left(\mu_{a,t} \right) \\
&amp; a_t = l_{a,t-1} + \epsilon_{a,t} \\
&amp; l_{a,t} = l_{a,t-1}  + \alpha_{a} \epsilon_{a,t} \\
&amp; \mu_{a,t} = \max \left( \min(l_{a,t-1}, 1), 0 \right)
\end{aligned}.
\tag{13.19}
\end{equation}\]</span></p>
<p>The estimation of the oETS<span class="math inline">\(_D\)</span>(M,N,M) model can be done using the following set of equations:
<span class="math display" id="eq:ISSETSMNNProbabilityEstimate">\[\begin{equation}
\begin{aligned}
&amp; \hat{\mu}_{a,t} = \hat{l}_{a,t-1} \\
&amp; \hat{l}_{a,t} = \hat{l}_{a,t-1}( 1  + \hat{\alpha}_{a} e_{a,t})
\end{aligned},
\tag{13.20}
\end{equation}\]</span>
where
<span class="math display" id="eq:oETSDMultiplicativeError">\[\begin{equation}
e_{a,t} = \frac{o_t (1 -2 \kappa) + \kappa -\hat{\mu}_{a,t}}{\hat{\mu}_{a,t}},
\tag{13.21}
\end{equation}\]</span>
and <span class="math inline">\(\kappa\)</span> is a very small number (for example, <span class="math inline">\(\kappa = 10^{-10}\)</span>), needed only in order to make the model estimable. The estimate of the error term in case of the additive model is much simpler and does not need any specific tricks to work:
<span class="math display" id="eq:oETSDAdditiveError">\[\begin{equation}
e_{a,t} = o_t -\hat{\mu}_{a,t} ,
\tag{13.22}
\end{equation}\]</span>
which is directly related to TSB method. Note that equation <a href="ADAMOccurrence.html#eq:ISSETSMNNProbabilityEstimate">(13.20)</a> does not contain <span class="math inline">\(\min\)</span> function, because the estimated error <a href="ADAMOccurrence.html#eq:oETSDMultiplicativeError">(13.21)</a> will always guarantee that the level will lie between 0 and 1 as long as the smoothing parameter lies in the [0, 1] region (which is the conventional assumption for both ETS(A,N,N) and ETS(M,N,N) models). This also applies for the oETS<span class="math inline">\(_D\)</span>(A,N,N) model, where the <span class="math inline">\(\max\)</span> and <span class="math inline">\(\min\)</span> functions can be dropped as long as the smoothing parameter lies in [0,1].</p>
<p>An important feature of this model is that it allows probability to become either 0 or 1, thus implying either that there is no demand on the product or that the demand for the product has become regular. No other oETS model permits that – they assume that probability might become very close to bounds but can never reach them.</p>
<p>Here’s an example of the application of the oETS<span class="math inline">\(_D\)</span>(M,M,N) to the same artificial data:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="ADAMOccurrence.html#cb216-1" aria-hidden="true" tabindex="-1"></a>oETSDModel <span class="ot">&lt;-</span> <span class="fu">oes</span>(y, <span class="at">model=</span><span class="st">&quot;MMN&quot;</span>, <span class="at">h=</span><span class="dv">10</span>, <span class="at">holdout=</span><span class="cn">TRUE</span>,</span>
<span id="cb216-2"><a href="ADAMOccurrence.html#cb216-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">occurrence=</span><span class="st">&quot;direct&quot;</span>)</span>
<span id="cb216-3"><a href="ADAMOccurrence.html#cb216-3" aria-hidden="true" tabindex="-1"></a>oETSDModel</span></code></pre></div>
<pre><code>## Occurrence state space model estimated: Direct probability
## Underlying ETS model: oETS[D](MMN)
## Smoothing parameters:
##  level  trend 
## 0.0439 0.0000 
## Vector of initials:
##  level  trend 
## 0.2351 1.0111 
## 
## Error standard deviation: 1.2292
## Sample size: 110
## Number of estimated parameters: 4
## Number of degrees of freedom: 106
## Information criteria: 
##      AIC     AICc      BIC     BICc 
## 109.9171 110.2981 120.7191 121.6144</code></pre>
<div class="figure"><span style="display:block;" id="fig:oETSDModel"></span>
<img src="Svetunkov--2022----ADAM_files/figure-html/oETSDModel-1.png" alt="Demand occurrence and probability of occurrence in the oETS(M,M,N)$_D$ model." width="672" />
<p class="caption">
Figure 13.6: Demand occurrence and probability of occurrence in the oETS(M,M,N)<span class="math inline">\(_D\)</span> model.
</p>
</div>
<p>From Figure <a href="ADAMOccurrence.html#fig:oETSDModel">13.6</a>, we can see that the probability of occurrence increases rapidly and reaches the bound of one after 90 observations.</p>
<p>The empirical analysis I have done on different datasets shows that the oETS<span class="math inline">\(_D\)</span> model works effectively in many cases and produces accurate forecasts. So, if you are unsure which oETS model to choose for your intermittent data, I recommend starting with oETS<span class="math inline">\(_D\)</span>.</p>
</div>
<div id="oETSModelSelection" class="section level3 hasAnchor" number="13.1.6">
<h3><span class="header-section-number">13.1.6</span> Model selection in oETS<a href="ADAMOccurrence.html#oETSModelSelection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are two dimensions for the model selection in the oETS model:</p>
<ol style="list-style-type: decimal">
<li>Selection of the type of occurrence;</li>
<li>Selection of the model type for the occurrence part.</li>
</ol>
<p>The solution in this situation is simple. Given the formula <a href="ADAMOccurrence.html#eq:oETSLikelihood">(13.4)</a>, we can try each of the models, calculate log-likelihoods, the number of all estimated parameters and then select the one that has the lowest information criterion. The demand occurrence models discussed in this section will have:</p>
<ol style="list-style-type: decimal">
<li>oETS<span class="math inline">\(_F\)</span>: 1 parameter for the probability of occurrence;</li>
<li>oETS<span class="math inline">\(_O\)</span>, oETS<span class="math inline">\(_I\)</span> and oETS<span class="math inline">\(_D\)</span>: initial values, smoothing and dampening parameters;</li>
<li>oETS<span class="math inline">\(_G\)</span>: initial values, smoothing and dampening parameters for models A and B;</li>
</ol>
<p>For example, if the oETS(M,N,N) model is constructed, the overall number of parameters for the models will be:</p>
<ol style="list-style-type: decimal">
<li>oETS(M,N,N)<span class="math inline">\(_F\)</span> – 1 parameter: the probability of occurrence <span class="math inline">\(\hat{p}\)</span>;</li>
<li>oETS(M,N,N)<span class="math inline">\(_O\)</span>, oETS(M,N,N)<span class="math inline">\(_I\)</span> and oETS(M,N,N)<span class="math inline">\(_D\)</span> – 2: the initial value of level and the smoothing parameter;</li>
<li>oETS(M,N,N)<span class="math inline">\(_G\)</span> – 4: the initial values of <span class="math inline">\(\hat{l}_{a,0}\)</span> and <span class="math inline">\(\hat{l}_{b,0}\)</span> and the smoothing parameters <span class="math inline">\(\hat{\alpha}_a\)</span> and <span class="math inline">\(\hat{\alpha}_b\)</span>.</li>
</ol>
<p>This implies that the selection between models in (2) will come to the best fit to the demand occurrence data, while oETS(M,N,N)<span class="math inline">\(_G\)</span> will only be selected if it provides a much better fit to the data. Given that intermittent demand typically does not have many observations, the selection of oETS(M,N,N)<span class="math inline">\(_G\)</span> becomes highly improbable.</p>
<p>When it comes to selecting the most appropriate demand occurrence model (e.g. between the local level and local trend models), the approach would be similar: estimate the pool of models via likelihood, calculate their number of parameters, select the model with the lowest IC. Given that the likelihood part of the demand occurrence comes to probabilities, the selection in the occurrence part can be made based on the likelihood <a href="ADAMOccurrence.html#eq:oETSLikelihood">(13.4)</a> independently of the demand sizes part of the model.</p>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Svetunkov2019a" class="csl-entry">
• Svetunkov, I., Boylan, J.E., 2019. <span class="nocase">Multiplicative state-space models for intermittent time series</span>. <a href="https://doi.org/10.13140/RG.2.2.35897.06242">https://doi.org/10.13140/RG.2.2.35897.06242</a>
</div>
<div id="ref-Teunter2011" class="csl-entry">
• Teunter, R.H., Syntetos, A.A., Babai, M.Z., 2011. <span class="nocase">Intermittent demand: Linking forecasting to inventory obsolescence</span>. European Journal of Operational Research. 214, 606–615. <a href="https://doi.org/10.1016/j.ejor.2011.05.018">https://doi.org/10.1016/j.ejor.2011.05.018</a>
</div>
</div>

            </section>

          </div>
        </div>
      </div>
<a href="ADAMIntermittent.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ADAMDemandSizes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/config-i1/adam/tree/master/Chapters//13-ADAM-Occurrence.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Svetunkov (2022) - ADAM.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
